<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>LIKELY and UNLIKELY</title><link rel="stylesheet" href="LN-html.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.75.1"><link rel="home" href="index.html" title="ECL Language Reference"><link rel="up" href="Reserved_Keywords.html" title="Reserved Keywords"><link rel="prev" href="LEFT-RIGHT.html" title="LEFT and RIGHT"><link rel="next" href="ROWS-LEFT-RIGHT.html" title="ROWS(LEFT) and ROWS(RIGHT)"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">LIKELY and UNLIKELY</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="LEFT-RIGHT.html"><img src="images/prev.gif" alt="Prev"></a>&nbsp;</td><th width="60%" align="center"><span class="bold"><strong>Reserved Keywords</strong></span></th><td width="20%" align="right">&nbsp;<a accesskey="n" href="ROWS-LEFT-RIGHT.html"><img src="images/next.gif" alt="Next"></a></td></tr></table><hr></div><div class="sect1" title="LIKELY and UNLIKELY"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="likely"></a>LIKELY and UNLIKELY</h2></div></div></div><p><span class="bold"><strong>[</strong></span><span class="emphasis"><em>attrname</em></span> :=<span class="bold"><strong> ] LIKELY<a class="indexterm" name="d0e8380"></a>(</strong></span><span class="emphasis"><em>filtercondition</em></span><span class="bold"><strong>, [</strong></span><span class="emphasis"><em> likelihood </em></span><span class="bold"><strong>] </strong></span><span class="bold"><strong>);</strong></span></p><p><span class="bold"><strong>[</strong></span><span class="emphasis"><em>attrname</em></span> :=<span class="bold"><strong> ] UNLIKELY<a class="indexterm" name="d0e8402"></a>(</strong></span><span class="emphasis"><em>filtercondition</em></span><span class="bold"><strong>);</strong></span></p><div class="informaltable"><table border="1"><colgroup><col width="79"><col width="309"></colgroup><tbody><tr><td><span class="emphasis"><em>filtercondition</em></span></td><td>A filter condition for the hint.</td></tr><tr><td><span class="emphasis"><em>likelihood</em></span></td><td>The probability value expressed in a decimal value between 0 and 1.</td></tr></tbody></table></div><p>The LIKELY/UNLIKELY hint can be wrapped around a filter condition to indicate to the code generator the likelihood that the filter condition will filter the record.</p><p>LIKELY specifies that the filter condition is likely to match most records. UNLIKELY specifies that very few records are likely to be matched.</p><p>Specific probability value may be provided for LIKELY. The probability value is decimal value greater than 0 and less than 1. The closer this value is to 1.0 the more likely that the filter condition is likely to match a record. The closer the value is to 0.0 the less likely the filter condition is to match records. The code generator makes use of the likelihood information to produce better code.</p><p>The code generator uses the LIKELY/UNLIKELY hint together with the count of usage, to determine the cost of spilling and the cost of re-filtering the dataset every time it is used. Spills are only be generated when the cost of spilling is lower than the cost of re-filtering the dataset every time.</p><p>For example, say there is a dataset of people with millions of records. A filter is created to retain all records where the age is less than 100. The filter is expected to retain 99.9% of records. This filter result is used by 3 different activities. The cost of spilling the results of the filter is likely to be significantly higher than the simply re-filtering the input dataset every time it used. LIKELY can be used to share this likelihood information with the code generator so that it may make sensible decisions regarding when to spill.</p><p>Example:</p><pre class="programlisting">PeopleYoungerThan100 := AllPeople( LIKELY(age &lt; 100, 0.999) );
// Probably not worth spilling PeopleYoungerThan100

PeopleOlderThan100 := AllPeople( UNLIKELY(age&gt;100) );
// Probably worth spilling even if PeopleOlderThan100 is used by only a couple of activities</pre><p></p></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="LEFT-RIGHT.html"><img src="images/prev.gif" alt="Prev"></a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="Reserved_Keywords.html"><img src="images/up.gif" alt="Up"></a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="ROWS-LEFT-RIGHT.html"><img src="images/next.gif" alt="Next"></a></td></tr><tr><td width="40%" align="left" valign="top">LEFT and RIGHT&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html"><img src="images/home.gif" alt="Home"></a></td><td width="40%" align="right" valign="top">&nbsp;ROWS(LEFT) and ROWS(RIGHT)</td></tr></table></div></body></html>