<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>CSV Files</title><link rel="stylesheet" href="LN-html.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.75.1"><link rel="home" href="index.html" title="ECL Language Reference"><link rel="up" href="DATASET.html" title="DATASET"><link rel="prev" href="THOR-FLAT_Files.html" title="THOR/FLAT Files"><link rel="next" href="XML_Files.html" title="XML Files"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">CSV Files</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="THOR-FLAT_Files.html"><img src="images/prev.gif" alt="Prev"></a>&nbsp;</td><th width="60%" align="center">DATASET</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="XML_Files.html"><img src="images/next.gif" alt="Next"></a></td></tr></table><hr></div><div class="sect2" title="CSV Files"><div class="titlepage"><div><div><h3 class="title"><a name="CSV_Files"></a>CSV Files<a class="indexterm" name="d0e4952"></a></h3></div></div></div><p><span class="emphasis"><em> attr</em></span><span class="bold"><strong> := DATASET<a class="indexterm" name="d0e4960"></a>(</strong></span><span class="emphasis"><em> file, struct, </em></span><span class="bold"><strong> CSV<a class="indexterm" name="d0e4968"></a> [ ( [ HEADING<a class="indexterm" name="d0e4972"></a>( </strong></span><span class="emphasis"><em>n</em></span><span class="bold"><strong> ) ] [, SEPARATOR<a class="indexterm" name="d0e4980"></a>( </strong></span><span class="emphasis"><em>f_delimiters</em></span><span class="bold"><strong> ) ]</strong></span><span class="bold"><strong> </strong></span></p><p><span class="bold"><strong> [, TERMINATOR<a class="indexterm" name="d0e4993"></a>( </strong></span><span class="emphasis"><em>r_delimiters</em></span><span class="bold"><strong> ) ] [, QUOTE<a class="indexterm" name="d0e5001"></a>( </strong></span><span class="emphasis"><em>characters</em></span><span class="bold"><strong> ) ]</strong></span><span class="bold"><strong> [, ESCAPE<a class="indexterm" name="d0e5011"></a>( </strong></span><span class="emphasis"><em>esc</em></span><span class="bold"><strong> ) ] [, MAXLENGTH<a class="indexterm" name="d0e5019"></a>( </strong></span><span class="emphasis"><em>size</em></span><span class="bold"><strong> ) ]</strong></span></p><p><span class="bold"><strong> [ ASCII<a class="indexterm" name="d0e5030"></a> | EBCDIC<a class="indexterm" name="d0e5034"></a> | UNICODE<a class="indexterm" name="d0e5038"></a> ]</strong></span><span class="bold"><strong> [, NOTRIM<a class="indexterm" name="d0e5044"></a> ]) ]</strong></span><span class="bold"><strong> [,ENCRYPT<a class="indexterm" name="d0e5050"></a>(</strong></span><span class="emphasis"><em>key</em></span><span class="bold"><strong>) ]);</strong></span></p><div class="informaltable"><table border="1"><colgroup><col width="21%" align="left"><col width="79%"></colgroup><tbody><tr><td align="left"><span class="bold"><strong>CSV</strong></span></td><td>Specifies the <span class="emphasis"><em>file</em></span> is a &#8220;comma separated values&#8221; ASCII file.</td></tr><tr><td align="left"><span class="bold"><strong>HEADING(</strong></span><span class="emphasis"><em>n</em></span><span class="bold"><strong>)</strong></span></td><td>Optional. The number of header records in the <span class="emphasis"><em>file</em></span>. If omitted, the default is zero (0).</td></tr><tr><td align="left"><span class="bold"><strong>SEPARATOR</strong></span></td><td>Optional. The field delimiter. If omitted, the default is a comma (',') or the delimiter specified in the spray operation that put the file on disk.</td></tr><tr><td align="left"><span class="emphasis"><em>f_delimiters</em></span></td><td>A single string constant, or set of string constants, that define the character(s) used as the field delimiter. If Unicode constants are used, then the UTF8 representation of the character(s) will be used.</td></tr><tr><td align="left"><span class="bold"><strong>TERMINATOR</strong></span></td><td><p>Optional. The record delimiter. If omitted, the default is a line feed ('\n') or the delimiter specified in the spray operation that put the file on disk.</p></td></tr><tr><td align="left"><span class="emphasis"><em>r_delimiters</em></span></td><td><p>A single string constant, or set of string constants, that define the character(s) used as the record delimiter.</p></td></tr><tr><td align="left"><span class="bold"><strong>QUOTE</strong></span></td><td><p>Optional. The string quote character used. If omitted, the default is a single quote ('\'') or the delimiter specified in the spray operation that put the file on disk.</p></td></tr><tr><td align="left"><span class="emphasis"><em>characters</em></span></td><td><p>A single string constant, or set of string constants, that define the character(s) used as the string value delimiter.</p></td></tr><tr><td align="left"><span class="bold"><strong>ESCAPE</strong></span></td><td><p>Optional. The string escape character used to indicate the next character (usually a control character) is part of the data and not to be interpreted as a field or row delimiter. If omitted, the default is the escape character specified in the spray operation that put the file on disk (if any).</p></td></tr><tr><td align="left"><span class="emphasis"><em>esc</em></span></td><td><p>A single string constant, or set of string constants, that define the character(s) used to escape control characters.</p></td></tr><tr><td align="left"><span class="bold"><strong>MAXLENGTH(</strong></span><span class="emphasis"><em>size</em></span><span class="bold"><strong>)</strong></span></td><td><p>Optional. Maximum record length in the <span class="emphasis"><em>file</em></span>. If omitted, the default is 4096.</p></td></tr><tr><td align="left"><span class="bold"><strong>ASCII</strong></span></td><td><p>Specifies all input is in ASCII format, including any EBCDIC or UNICODE fields.</p></td></tr><tr><td align="left"><span class="bold"><strong>EBCDIC</strong></span></td><td><p>Specifies all input is in EBCDIC format except the SEPARATOR and TERMINATOR (which are expressed as ASCII values).</p></td></tr><tr><td align="left"><span class="bold"><strong>UNICODE</strong></span></td><td><p>Specifies all input is in Unicode UTF8 format.</p></td></tr><tr><td align="left"><span class="bold"><strong>NOTRIM</strong></span></td><td><p>Specifies preserving all whitespace in the input data (the default is to trim leading blanks).</p></td></tr><tr><td align="left"><span class="bold"><strong>ENCRYPT</strong></span></td><td><p>Optional. Specifies the <span class="emphasis"><em>file</em></span> was created by OUTPUT with the ENCRYPT option.</p></td></tr><tr><td align="left"><span class="emphasis"><em>key</em></span></td><td><p>A string constant containing the encryption key used to create the file.</p></td></tr></tbody></table></div><p>This form is used to read an ASCII CSV file. This can also be used to read any variable-length record file that has a defined record delimiter. If none of the ASCII, EBCDIC, or UNICODE options are specified, the default input is in ASCII format with any UNICODE fields in UTF8 format.</p><p><span class="bold"><strong>Example:</strong></span></p><pre class="programlisting">CSVRecord := RECORD
  UNSIGNED4 person_id;
  STRING20 per_surname;
  STRING20 per_forename;
END;

file1 := DATASET('MyFile.CSV',CSVrecord,CSV);            //all defaults
file2 := DATASET('MyFile.CSV',CSVrecord,CSV(HEADING(1)); //1 header
file3 := DATASET('MyFile.CSV',
                 CSVrecord,
                 CSV(HEADING(1),
                     SEPARATOR([',','\t']),
                     TERMINATOR(['\n','\r\n','\n\r'])));
          //1 header record, either comma or tab field delimiters,
          // either LF or CR/LF or LF/CR record delimiters</pre></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="THOR-FLAT_Files.html"><img src="images/prev.gif" alt="Prev"></a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="DATASET.html"><img src="images/up.gif" alt="Up"></a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="XML_Files.html"><img src="images/next.gif" alt="Next"></a></td></tr><tr><td width="40%" align="left" valign="top">THOR/FLAT Files&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html"><img src="images/home.gif" alt="Home"></a></td><td width="40%" align="right" valign="top">&nbsp;XML Files</td></tr></table></div></body></html>