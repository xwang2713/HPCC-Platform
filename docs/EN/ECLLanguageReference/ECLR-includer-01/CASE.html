<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>CASE</title><link rel="stylesheet" href="LN-html.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.75.1"><link rel="home" href="index.html" title="ECL Language Reference"><link rel="up" href="Built-in_Functions_and_Actions.html" title="Built-in Functions and Actions"><link rel="prev" href="BUILD_a_Query_Library.html" title="BUILD a Query Library"><link rel="next" href="CATCH.html" title="CATCH"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">CASE</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="BUILD_a_Query_Library.html"><img src="images/prev.gif" alt="Prev"></a>&nbsp;</td><th width="60%" align="center"><span class="bold"><strong>Built-in Functions and Actions</strong></span></th><td width="20%" align="right">&nbsp;<a accesskey="n" href="CATCH.html"><img src="images/next.gif" alt="Next"></a></td></tr></table><hr></div><div class="sect1" title="CASE"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="CASE"></a>CASE</h2></div></div></div><p><span class="bold"><strong>CASE<a class="indexterm" name="d0e12555"></a><a class="indexterm" name="d0e12558"></a>(</strong></span><span class="emphasis"><em>expression, caseval =&gt; value, </em></span><span class="bold"><strong>[</strong></span><span class="emphasis"><em>&#8230; , caseval =&gt; value </em></span><span class="bold"><strong>]</strong></span><span class="emphasis"><em> </em></span><span class="bold"><strong>[,</strong></span><span class="emphasis"><em> elsevalue </em></span><span class="bold"><strong>] )</strong></span></p><div class="informaltable"><table border="1"><colgroup><col width="13%"><col width="87%"></colgroup><tbody><tr><td><span class="emphasis"><em>expression</em></span></td><td>An expression that results in a single value.</td></tr><tr><td><span class="emphasis"><em>caseval</em></span></td><td>A value to compare against the result of the expression.</td></tr><tr><td>=&gt;</td><td>The &#8220;results in&#8221; operator&#8212;valid only in CASE, MAP and CHOOSESETS.</td></tr><tr><td><span class="emphasis"><em>value</em></span></td><td>The value to return. This may be any expression or action.</td></tr><tr><td><span class="emphasis"><em>elsevalue</em></span></td><td>Optional. The value to return when the result of the expression does not match any of the <span class="emphasis"><em>caseval</em></span> values. May be omitted if all return values are actions (the default would then be no action), or all return values are record sets (the default would then be an empty record set).</td></tr><tr><td>Return:</td><td>CASE returns a single value, a set of values, a record set, or an action.</td></tr></tbody></table></div><p>The <span class="bold"><strong>CASE </strong></span>function evaluates the <span class="emphasis"><em>expression</em></span> and returns the <span class="emphasis"><em>value</em></span> whose <span class="emphasis"><em>caseval </em></span>matches the <span class="emphasis"><em>expression </em></span>result. If none match, it returns the <span class="emphasis"><em>elsevalue</em></span>.</p><p>There may be as many <span class="emphasis"><em>caseval </em></span>=&gt; <span class="emphasis"><em>value</em></span> parameters as necessary to specify all the expected values of the <span class="emphasis"><em>expression</em></span> (there must be at least one). All return <span class="emphasis"><em>value </em></span>parameters must be of the same type.</p><p>Example:</p><pre class="programlisting">MyExp := 1+2;
MyChoice := CASE(MyExp, 1 =&gt; 9, 2 =&gt; 8, 3 =&gt; 7, 4 =&gt; 6, 5);
  // returns a value of 7 for the caseval of 3
MyRecSet := CASE(MyExp, 1 =&gt; Person(per_st = 'FL'),
    2 =&gt; Person(per_st = 'GA'),
    3 =&gt; Person(per_st = 'AL'),
    4 =&gt; Person(per_st = 'SC'),
    Person);
  // returns set of Alabama Persons for the caseval of 3
MyAction := CASE(MyExp, 1 =&gt; FAIL('Failed for reason 1'),
    2 =&gt; FAIL('Failed for reason 2'),
    3 =&gt; FAIL('Failed for reason 3'),
    4 =&gt; FAIL('Failed for reason 4'),    FAIL('Failed for unknown reason'));
  // for the caseval of 3, Fails for reason 3</pre><p>See Also: <a class="link" href="MAP.html" title="MAP">MAP</a>, <a class="link" href="CHOOSE.html" title="CHOOSE">CHOOSE</a>, <a class="link" href="IF.html" title="IF">IF</a>, <a class="link" href="REJECTED.html" title="REJECTED">REJECTED</a>, <a class="link" href="WHICH.html" title="WHICH">WHICH</a></p></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="BUILD_a_Query_Library.html"><img src="images/prev.gif" alt="Prev"></a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="Built-in_Functions_and_Actions.html"><img src="images/up.gif" alt="Up"></a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="CATCH.html"><img src="images/next.gif" alt="Next"></a></td></tr><tr><td width="40%" align="left" valign="top">BUILD a Query Library&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html"><img src="images/home.gif" alt="Home"></a></td><td width="40%" align="right" valign="top">&nbsp;CATCH</td></tr></table></div></body></html>