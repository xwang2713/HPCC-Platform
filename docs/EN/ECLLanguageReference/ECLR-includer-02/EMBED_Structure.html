<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>EMBED Structure</title><link rel="stylesheet" href="LN-html.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.75.1"><link rel="home" href="index.html" title="ECL Language Reference"><link rel="up" href="Special_Structures.html" title="Special Structures"><link rel="prev" href="BeginCPP_Available_Options.html" title="Available Options"><link rel="next" href="FUNCTION_Structure.html" title="FUNCTION Structure"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">EMBED Structure</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="BeginCPP_Available_Options.html"><img src="images/prev.gif" alt="Prev"></a>&nbsp;</td><th width="60%" align="center"><span class="bold"><strong>Special Structures</strong></span></th><td width="20%" align="right">&nbsp;<a accesskey="n" href="FUNCTION_Structure.html"><img src="images/next.gif" alt="Next"></a></td></tr></table><hr></div><div class="sect1" title="EMBED Structure"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="EMBED_Structure"></a>EMBED Structure<a class="indexterm" name="d0e9030"></a></h2></div></div></div><p><span class="emphasis"><em>resulttype funcname</em></span> <span class="bold"><strong>(</strong></span> <span class="emphasis"><em>parameterlist</em></span> <span class="bold"><strong>) := EMBED(<a class="indexterm" name="d0e9045"></a></strong></span> <span class="emphasis"><em>language</em></span> <span class="bold"><strong>)</strong></span></p><p><span class="emphasis"><em>code</em></span></p><p><span class="bold"><strong>ENDEMBED<a class="indexterm" name="d0e9060"></a>;</strong></span></p><p><span class="emphasis"><em>resulttype funcname</em></span> <span class="bold"><strong>(</strong></span> <span class="emphasis"><em>parameterlist</em></span> <span class="bold"><strong>) := EMBED(</strong></span> <span class="emphasis"><em>language, code</em></span> <span class="bold"><strong>);</strong></span></p><div class="informaltable"><table border="1"><colgroup><col width="21%" align="left"><col width="79%"></colgroup><tbody><tr><td align="left"><span class="emphasis"><em>resulttype</em></span></td><td>The ECL return value type of the function.</td></tr><tr><td align="left"><span class="emphasis"><em>funcname</em></span></td><td><p>The ECL definition name of the function.</p></td></tr><tr><td align="left"><span class="emphasis"><em>parameterlist</em></span></td><td>A comma separated list of the parameters to pass to the <span class="emphasis"><em>function</em></span>.</td></tr><tr><td align="left"><span class="emphasis"><em>language</em></span></td><td>The name of the programming language being embedded. A language support module for that language must have been installed in your plugins directory. Modules are provided for languages such as Java, R, Javascript, and Python. You can write your own pluggable language support module for any language not already supported by using the supplied ones as examples or starting points.</td></tr><tr><td align="left"><span class="emphasis"><em>code</em></span></td><td>The source code to embed.</td></tr></tbody></table></div><p>The <span class="bold"><strong>EMBED</strong></span> structure makes it possible to add in-line <span class="emphasis"><em>language</em></span> code to your ECL. This is similar to the BEGINC++ structure, but available for any <span class="emphasis"><em>language</em></span> with a pluggable language support module installed, such as R, Javascript, and Python. Others may follow or people can write their own using the supplied ones as templates/examples/starting points. This may be used to write Javascript, R, or Python code, but is not usable with Java code (use the IMPORT function for Java code).</p><p>The parameter types that can be passed and returned will vary by <span class="emphasis"><em>language</em></span>, but in general the simple scalar types (INTEGER, REAL, STRING, UNICODE, BOOLEAN, and DATA) and SETs of those scalar types are supported, so long as there is an appropriate data type in the <span class="emphasis"><em>language</em></span> to map them to.</p><p>The first form of EMBED is the structure that must terminate with ENDEMBED. This may contain any code in the supported <span class="emphasis"><em>language</em></span>.</p><p>The second form of EMBED is a self-contained function. The <span class="emphasis"><em>code</em></span> parameter contains all the code to execute, making this useful only for very simple expressions.</p><p><span class="bold"><strong>WARNING: This feature could create memory corruption and/or security issues, so great care and forethought are advised&#8212;consult with Technical Support before using.</strong></span></p><p>Example:</p><pre class="programlisting">//First form: a structure
IMPORT Python;  //make Python language available

INTEGER addone(INTEGER p) := EMBED(Python)
# Python code that returns one more than the value passed to it
if p &lt; 10:
  return p+1
else:
  return 0
ENDEMBED;

//Second form: a function
INTEGER addtwo(INTEGER p) := EMBED(Python, 'p+2');  </pre><p>See Also: <a class="link" href="BEGINCplus_Structure.html" title="BEGINC++ Structure">BEGINC++ Structure</a>, <a class="link" href="IMPORT.html" title="IMPORT">IMPORT</a>, <a class="link" href="IMPORT_function.html" title="IMPORT">IMPORT function</a></p></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="BeginCPP_Available_Options.html"><img src="images/prev.gif" alt="Prev"></a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="Special_Structures.html"><img src="images/up.gif" alt="Up"></a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="FUNCTION_Structure.html"><img src="images/next.gif" alt="Next"></a></td></tr><tr><td width="40%" align="left" valign="top">Available Options&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html"><img src="images/home.gif" alt="Home"></a></td><td width="40%" align="right" valign="top">&nbsp;FUNCTION Structure</td></tr></table></div></body></html>