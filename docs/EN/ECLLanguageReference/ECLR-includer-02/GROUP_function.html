<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>GROUP</title><link rel="stylesheet" href="LN-html.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.75.1"><link rel="home" href="index.html" title="ECL Language Reference"><link rel="up" href="Built-in_Functions_and_Actions.html" title="Built-in Functions and Actions"><link rel="prev" href="GRAPH.html" title="GRAPH"><link rel="next" href="HASH.html" title="HASH"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">GROUP</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="GRAPH.html"><img src="images/prev.gif" alt="Prev"></a>&nbsp;</td><th width="60%" align="center"><span class="bold"><strong>Built-in Functions and Actions</strong></span></th><td width="20%" align="right">&nbsp;<a accesskey="n" href="HASH.html"><img src="images/next.gif" alt="Next"></a></td></tr></table><hr></div><div class="sect1" title="GROUP"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="GROUP_function"></a>GROUP</h2></div></div></div><p><span class="bold"><strong>GROUP<a class="indexterm" name="d0e17887"></a><a class="indexterm" name="d0e17890"></a>( </strong></span><span class="emphasis"><em>recordset </em></span><span class="bold"><strong>[</strong></span><span class="emphasis"><em>, breakcriteria </em></span><span class="bold"><strong>[</strong></span>,<span class="bold"><strong> ALL<a class="indexterm" name="d0e17905"></a> ] ] [</strong></span><span class="emphasis"><em>, </em></span><span class="bold"><strong>LOCAL<a class="indexterm" name="d0e17913"></a></strong></span><span class="emphasis"><em> </em></span><span class="bold"><strong>] </strong></span> <span class="bold"><strong>[, UNORDERED | ORDERED(</strong></span> <span class="emphasis"><em>bool </em></span><span class="bold"><strong>) ] [, STABLE | UNSTABLE ] [, PARALLEL [ (</strong></span> <span class="emphasis"><em>numthreads </em></span><span class="bold"><strong>) ] ] [, ALGORITHM(</strong></span> <span class="emphasis"><em>name </em></span><span class="bold"><strong>) ] )</strong></span></p><div class="informaltable"><table border="1"><colgroup><col width="14%"><col width="86%"></colgroup><tbody><tr><td><span class="emphasis"><em>recordset</em></span></td><td>The set of records to fragment.</td></tr><tr><td><span class="emphasis"><em>breakcriteria</em></span></td><td>Optional. A comma-delimited list of expressions or key fields in the recordset that specifies how to fragment the recordset. You may use the keyword RECORD to indicate all fields in the recordset, and/or you may use the keyword EXCEPT to list non-group fields in the structure. You may also use the keyword ROW to indicate each record in the recordset is a separate group. If omitted, the recordset is ungrouped from any previous grouping.</td></tr><tr><td><span class="bold"><strong>ALL</strong></span></td><td>Optional. Indicates the <span class="emphasis"><em>breakcriteria</em></span> is applied without regard to any previous order. If omitted, GROUP assumes the recordset is already sorted in <span class="emphasis"><em>breakcriteria</em></span> order.</td></tr><tr><td><span class="bold"><strong>LOCAL</strong></span></td><td>Optional. Specifies the operation is performed on each supercomputer node independently, without requiring interaction with all other nodes to acquire data; the operation maintains the distribution of any previous DISTRIBUTE.</td></tr><tr><td><span class="bold"><strong>UNORDERED</strong></span></td><td>Optional. Specifies the output record order is not significant.</td></tr><tr><td><span class="bold"><strong>ORDERED</strong></span></td><td>Specifies the significance of the output record order.</td></tr><tr><td><span class="emphasis"><em>bool</em></span></td><td>When False, specifies the output record order is not significant. When True, specifies the default output record order.</td></tr><tr><td><span class="bold"><strong>STABLE</strong></span></td><td>Optional. Specifies the input record order is significant.</td></tr><tr><td><span class="bold"><strong>UNSTABLE</strong></span></td><td>Optional. Specifies the input record order is not significant.</td></tr><tr><td><span class="bold"><strong>PARALLEL</strong></span></td><td>Optional. Try to evaluate this activity in parallel.</td></tr><tr><td><span class="emphasis"><em>numthreads</em></span></td><td>Optional. Try to evaluate this activity using <span class="emphasis"><em>numthreads</em></span> threads.</td></tr><tr><td><span class="bold"><strong>ALGORITHM</strong></span></td><td>Optional. Override the algorithm used for this activity.</td></tr><tr><td><span class="emphasis"><em>name</em></span></td><td>The algorithm to use for this activity. Must be from the list of supported algorithms for the SORT function's STABLE and UNSTABLE options.</td></tr><tr><td>Return:</td><td>GROUP returns a record set.</td></tr></tbody></table></div><p>The <span class="bold"><strong>GROUP </strong></span>function fragments a <span class="emphasis"><em>recordset</em></span> into a set of sets. This allows aggregations and other operations (such as ITERATE, DEDUP, ROLLUP, SORT and others) to occur within defined subsets of the data&#8212;the operation executes on each subset, individually. This means that the boundary condition code written in the TRANSFORM function for those functions that use them will be different than it would be for a <span class="emphasis"><em>recordset</em></span> that has simply been SORTed.</p><p>The <span class="emphasis"><em>recordset</em></span> must be sorted by the same elements as the <span class="emphasis"><em>breakcriteria</em></span> if the ALL option is not specified.</p><p>The <span class="emphasis"><em>recordset</em></span> gets &#8216;ungrouped&#8217; by use in a TABLE function, by the JOIN function in some circumstances (see JOIN), by UNGROUP, or by another GROUP function with the second parameter omitted.</p><p>Example:</p><pre class="programlisting">MyRec := RECORD
 STRING20 Last;
 STRING20 First;
END;
SortedSet := SORT(Person,Person.last_name); //sort by last name
GroupedSet := GROUP(SortedSet,last_name);  //then group them

SecondSort := SORT(GroupedSet,Person.first_name);
   //sorts by first name within each last name group
   // this is a &#8220;sort within group&#8221;

UnGroupedSet := GROUP(GroupedSet); //ungroup the dataset
MyTable := TABLE(SecondSort,MyRec); //create table of sorted names
</pre><p>See Also: <a class="link" href="REGROUP.html" title="REGROUP">REGROUP</a>, <a class="link" href="COMBINE.html" title="COMBINE">COMBINE</a>, <a class="link" href="UNGROUP.html" title="UNGROUP">UNGROUP</a>, <a class="link" href="EXCEPT.html" title="EXCEPT">EXCEPT</a></p></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="GRAPH.html"><img src="images/prev.gif" alt="Prev"></a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="Built-in_Functions_and_Actions.html"><img src="images/up.gif" alt="Up"></a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="HASH.html"><img src="images/next.gif" alt="Next"></a></td></tr><tr><td width="40%" align="left" valign="top">GRAPH&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html"><img src="images/home.gif" alt="Home"></a></td><td width="40%" align="right" valign="top">&nbsp;HASH</td></tr></table></div></body></html>