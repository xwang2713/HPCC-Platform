<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>OUTPUT JSON Files</title><link rel="stylesheet" href="LN-html.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.75.1"><link rel="home" href="index.html" title="ECL Language Reference"><link rel="up" href="OUTPUT.html" title="OUTPUT"><link rel="prev" href="OUTPUT_XML_Files.html" title="OUTPUT XML Files"><link rel="next" href="OUTPUT_PIPE_Files.html" title="OUTPUT PIPE Files"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">OUTPUT JSON Files</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="OUTPUT_XML_Files.html"><img src="images/prev.gif" alt="Prev"></a>&nbsp;</td><th width="60%" align="center">OUTPUT</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="OUTPUT_PIPE_Files.html"><img src="images/next.gif" alt="Next"></a></td></tr></table><hr></div><div class="sect2" title="OUTPUT JSON Files"><div class="titlepage"><div><div><h3 class="title"><a name="OUTPUT_JSON_Files"></a>OUTPUT JSON Files<a class="indexterm" name="d0e25126"></a><a class="indexterm" name="d0e25129"></a></h3></div></div></div><p><span class="bold"><strong>[</strong></span><span class="emphasis"><em>attr</em></span> :=<span class="bold"><strong> ] OUTPUT<a class="indexterm" name="d0e25140"></a>(</strong></span><span class="emphasis"><em>recordset</em></span><span class="bold"><strong>, [</strong></span><span class="emphasis"><em> format </em></span><span class="bold"><strong>]</strong></span><span class="emphasis"><em> ,file </em></span><span class="bold"><strong> </strong></span><span class="emphasis"><em>,</em></span><span class="bold"><strong>JSON<a class="indexterm" name="d0e25160"></a> [ (</strong></span><span class="emphasis"><em>jsonoptions</em></span><span class="bold"><strong>) ]</strong></span><span class="bold"><strong> [,ENCRYPT<a class="indexterm" name="d0e25170"></a>(</strong></span><span class="emphasis"><em> key </em></span><span class="bold"><strong>) ] [, CLUSTER<a class="indexterm" name="d0e25178"></a>(</strong></span><span class="emphasis"><em> target </em></span><span class="bold"><strong>) ] [</strong></span><span class="emphasis"><em>,</em></span><span class="bold"><strong> OVERWRITE<a class="indexterm" name="d0e25190"></a> ]</strong></span><span class="bold"><strong><span class="bold"><strong>[, UPDATE<a class="indexterm" name="d0e25197"></a>]</strong></span> [</strong></span><span class="emphasis"><em>,</em></span><span class="bold"><strong> EXPIRE<a class="indexterm" name="d0e25206"></a>( [ </strong></span><span class="emphasis"><em>days </em></span><span class="bold"><strong>] ) ] )</strong></span></p><div class="informaltable"><table border="1"><colgroup><col width="16%"><col width="84%"></colgroup><tbody><tr><td><span class="bold"><strong>CLUSTER</strong></span></td><td>Optional. Specifies writing the file to the specified list of target clusters. If omitted, the file is written to the cluster on which the workunit executes. The number of physical file parts written to disk is always determined by the number of nodes in the cluster on which the workunit executes, regardless of the number of nodes on the target cluster(s).</td></tr><tr><td><span class="emphasis"><em>target</em></span></td><td>A comma-delimited list of string constants containing the names of the clusters to write the file to. The names must be listed as they appear on the ECL Watch Activity page or returned by the Std.System.Thorlib.Group() function, optionally with square brackets containing a comma-delimited list of node-numbers (1-based) and/or ranges (specified with a dash, as in n-m) to indicate the specific set of nodes to write to.</td></tr><tr><td><span class="bold"><strong>ENCRYPT</strong></span></td><td>Optional. Specifies writing the file to disk using both 256-bit AES encryption and LZW compression.</td></tr><tr><td><span class="emphasis"><em>key</em></span></td><td>A string constant containing the encryption key to use to encrypt the data.</td></tr><tr><td><span class="bold"><strong>OVERWRITE</strong></span></td><td>Optional. Specifies overwriting the file if it already exists.</td></tr><tr><td><span class="bold"><strong>UPDATE</strong></span></td><td>Specifies that the file should be rewritten only if the code or input data has changed.</td></tr><tr><td><span class="bold"><strong>EXPIRE</strong></span></td><td>Optional. Specifies the file is a temporary file that may be automatically deleted after the specified number of days.</td></tr><tr><td><span class="emphasis"><em>days</em></span></td><td>Optional. The number of days after which the file may be automatically deleted. If omitted, the default is seven (7).</td></tr></tbody></table></div><p>This form writes the <span class="emphasis"><em>recordset</em></span> to the specified <span class="emphasis"><em>file</em></span> as JSON data with the name of each field in the specified <span class="emphasis"><em>format</em></span> becoming the JSON tag for that field's data. The valid set of <span class="emphasis"><em>jsonoptions</em></span> are:</p><p><span class="bold"><strong>&#8216;</strong></span><span class="emphasis"><em>rowtag</em></span><span class="bold"><strong>'</strong></span></p><p><span class="bold"><strong>HEADING<a class="indexterm" name="d0e25292"></a>( </strong></span><span class="emphasis"><em>headertext </em></span><span class="bold"><strong>[</strong></span><span class="emphasis"><em>, footertext </em></span><span class="bold"><strong>] )</strong></span></p><p><span class="bold"><strong>TRIM<a class="indexterm" name="d0e25307"></a></strong></span><span class="bold"><strong> </strong></span></p><p><span class="bold"><strong>OPT<a class="indexterm" name="d0e25315"></a><a class="indexterm" name="d0e25318"></a></strong></span></p><div class="informaltable"><table border="1"><colgroup><col width="14%"><col width="86%"></colgroup><tbody><tr><td><span class="emphasis"><em>rowtag</em></span></td><td>The text to place in record delimiting tag.</td></tr><tr><td><span class="bold"><strong>HEADING</strong></span></td><td>Specifies placing header and footer records in the file.</td></tr><tr><td><span class="emphasis"><em>headertext</em></span></td><td>The text of the header record to place in the file.</td></tr><tr><td><span class="emphasis"><em>footertext</em></span></td><td>The text of the footer record to place in the file.</td></tr><tr><td><span class="bold"><strong>TRIM</strong></span></td><td>Specifies removing trailing blanks from string fields before output.</td></tr><tr><td><span class="bold"><strong>OPT</strong></span></td><td>Specifies omitting tags for any empty string field from the output.</td></tr></tbody></table></div><p>If no <span class="emphasis"><em>jsonoptions</em></span> are specified, the defaults are:</p><pre class="programlisting">         JSON('Row',HEADING('[',']'))</pre><p>Example:</p><pre class="programlisting">R := {STRING10 fname,STRING12 lname};
B := DATASET([{'Fred','Bell'},{'George','Blanda'},{'Sam',''}],R);

OUTPUT(B,,'fred1.json', JSON); // writes B to the fred1.json file
/* the Fred1.json file looks like this:
{"Row": [
{"fname": "Fred      ", "lname": "Bell        "},
{"fname": "George    ", "lname": "Blanda      "},
{"fname": "Sam       ", "lname": "            "}
]}
*/
OUTPUT(B,,'fred2.json',JSON('MyResult', HEADING('[', ']')));
/* the Fred2.json file looks like this:
["MyResult": [
{"fname": "Fred      ", "lname": "Bell        "},
{"fname": "George    ", "lname": "Blanda      "},
{"fname": "Sam       ", "lname": "            "}
]]
</pre></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="OUTPUT_XML_Files.html"><img src="images/prev.gif" alt="Prev"></a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="OUTPUT.html"><img src="images/up.gif" alt="Up"></a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="OUTPUT_PIPE_Files.html"><img src="images/next.gif" alt="Next"></a></td></tr><tr><td width="40%" align="left" valign="top">OUTPUT XML Files&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html"><img src="images/home.gif" alt="Home"></a></td><td width="40%" align="right" valign="top">&nbsp;OUTPUT PIPE Files</td></tr></table></div></body></html>