<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Index BUILD Options</title><link rel="stylesheet" href="LN-html.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.75.1"><link rel="home" href="index.html" title="ECL Language Reference"><link rel="up" href="BUILD.html" title="BUILD"><link rel="prev" href="BUILD.html" title="BUILD"><link rel="next" href="BUILD_an_Access_Index.html" title="BUILD an Access Index"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Index BUILD Options</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="BUILD.html"><img src="images/prev.gif" alt="Prev"></a>&nbsp;</td><th width="60%" align="center">BUILD</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="BUILD_an_Access_Index.html"><img src="images/next.gif" alt="Next"></a></td></tr></table><hr></div><div class="sect2" title="Index BUILD Options"><div class="titlepage"><div><div><h3 class="title"><a name="Index_BUILD_Options"></a>Index BUILD Options</h3></div></div></div><p>The following options are available on all three INDEX forms of BUILD (only):</p><p><span class="bold"><strong>[, CLUSTER<a class="indexterm" name="d0e12054"></a>(</strong></span><span class="emphasis"><em> target </em></span><span class="bold"><strong>)] [, SORTED<a class="indexterm" name="d0e12062"></a>] [, DISTRIBUTE<a class="indexterm" name="d0e12066"></a>( </strong></span><span class="emphasis"><em>key</em></span><span class="bold"><strong> ) [ , MERGE<a class="indexterm" name="d0e12074"></a> ] ]</strong></span><span class="bold"><strong>[, DATASET<a class="indexterm" name="d0e12080"></a>( </strong></span><span class="emphasis"><em>basedataset</em></span><span class="bold"><strong> )] [, OVERWRITE<a class="indexterm" name="d0e12088"></a>]</strong></span><span class="bold"><strong> [, UPDATE<a class="indexterm" name="d0e12094"></a>]<span class="bold"><strong>[</strong></span><span class="emphasis"><em>,</em></span><span class="bold"><strong>EXPIRE<a class="indexterm" name="d0e12104"></a>( [</strong></span><span class="emphasis"><em>days</em></span><span class="bold"><strong>] ) ]</strong></span>[, FEW<a class="indexterm" name="d0e12113"></a>] [, FILEPOSITION(<span class="emphasis"><em>false</em></span>)<a class="indexterm" name="d0e12120"></a>] [, LOCAL<a class="indexterm" name="d0e12124"></a>] [, NOROOT<a class="indexterm" name="d0e12128"></a>] [, DISTRIBUTED<a class="indexterm" name="d0e12132"></a>]</strong></span><span class="bold"><strong>[, COMPRESSED<a class="indexterm" name="d0e12138"></a>( LZW<a class="indexterm" name="d0e12142"></a> | ROW<a class="indexterm" name="d0e12146"></a> | FIRST<a class="indexterm" name="d0e12150"></a>) ] [, WIDTH<a class="indexterm" name="d0e12154"></a>(</strong></span><span class="emphasis"><em> nodes </em></span><span class="bold"><strong>) ] [, DEDUP<a class="indexterm" name="d0e12162"></a>]<span class="bold"><strong>[</strong></span>,<span class="bold"><strong>SKEW<a class="indexterm" name="d0e12171"></a>(</strong></span><span class="emphasis"><em>limit</em></span><span class="bold"><strong>[</strong></span><span class="emphasis"><em>, target</em></span><span class="bold"><strong>] ) [, THRESHOLD<a class="indexterm" name="d0e12183"></a>(</strong></span><span class="emphasis"><em>size</em></span><span class="bold"><strong>) ] ] <span class="bold"><strong>[, MAXLENGTH<a class="indexterm" name="d0e12193"></a>[(</strong></span><span class="emphasis"><em>value</em></span><span class="bold"><strong>)] ] ]</strong></span></strong></span></strong></span><span class="bold"><strong>[, UNORDERED | ORDERED(</strong></span> <span class="emphasis"><em>bool </em></span><span class="bold"><strong>) ] [, STABLE | UNSTABLE ] [, PARALLEL [ (</strong></span> <span class="emphasis"><em>numthreads </em></span><span class="bold"><strong>) ] ] [, ALGORITHM(</strong></span> <span class="emphasis"><em>name </em></span><span class="bold"><strong>) ][, SET (</strong></span> <span class="emphasis"><em>option, value </em></span><span class="bold"><strong>) ]</strong></span></p><div class="informaltable"><table border="1"><colgroup><col width="21%"><col width="79%"></colgroup><tbody><tr><td><span class="bold"><strong>CLUSTER</strong></span></td><td>Specifies writing the <span class="emphasis"><em>indexfile</em></span> to the specified list of target clusters. If omitted, the <span class="emphasis"><em>indexfile</em></span> is written to the cluster on which the workunit executes. The number of physical file parts written to disk is always determined by the number of nodes in the cluster on which the workunit executes, regardless of the number of nodes on the target cluster(s) unless the WIDTH option is also specified.</td></tr><tr><td><span class="emphasis"><em>target</em></span></td><td>A comma-delimited list of string constants containing the names of the clusters to write the <span class="emphasis"><em>indexfile</em></span> to. The names must be listed as they appear on the ECL Watch Activity page or returned by the Std.System.Thorlib.Group() function, optionally with square brackets containing a comma-delimited list of node-numbers (1-based) and/or ranges (specified with a dash, as in n-m) to indicate the specific set of nodes to write to.</td></tr><tr><td><span class="bold"><strong>SORTED</strong></span></td><td>Specifies that the <span class="emphasis"><em>baserecset</em></span> is already sorted, implying that the automatic sort based on all the <span class="emphasis"><em>indexrec</em></span> fields is not required before the index is created.</td></tr><tr><td><span class="bold"><strong>DISTRIBUTE</strong></span></td><td>Specifies building the <span class="emphasis"><em>indexfile</em></span> based on the distribution of the key.</td></tr><tr><td><span class="emphasis"><em>key</em></span></td><td>The name of an existing INDEX attribute definition.</td></tr><tr><td><span class="bold"><strong>MERGE</strong></span></td><td>Optional. Specifies merging the resulting index into the specified key.</td></tr><tr><td><span class="bold"><strong>DATASET</strong></span></td><td>This is only needed when the <span class="emphasis"><em>baserecset</em></span> is the result of an operation (such as a JOIN) whose result makes it ambiguous as to which physical dataset is being indexed (in other words, use this option only when you receive an error that it cannot be deduced). Naming the <span class="emphasis"><em>basedataset</em></span> ensures that the proper record links are used in the index.</td></tr><tr><td><span class="emphasis"><em>basedataset</em></span></td><td>The name of the DATASET attribute from which the <span class="emphasis"><em>baserecset</em></span> is derived.</td></tr><tr><td><span class="bold"><strong>OVERWRITE</strong></span></td><td>Specifies overwriting the <span class="emphasis"><em>indexfile</em></span> if it already exists.</td></tr><tr><td><span class="bold"><strong>UPDATE</strong></span></td><td>Specifies that the file should be rewritten only if the code or input data has changed.</td></tr><tr><td><span class="bold"><strong>EXPIRE</strong></span></td><td>Optional. Specifies the file is a temporary file that may be automatically deleted after the specified number of days since the file was read.</td></tr><tr><td><span class="bold"><strong>FILEPOSITION</strong></span></td><td>Optional. If <span class="emphasis"><em>flag</em></span> is FALSE, prevents the implicit fileposition field from being created and will not treat a trailing integer field any differently from the rest of the payload.</td></tr><tr><td><span class="emphasis"><em>flag</em></span></td><td>Optional. TRUE or FALSE, indicating whether or not to create the implicit fileposition field.</td></tr><tr><td><span class="emphasis"><em>days</em></span></td><td>Optional. The number of days from last file read after which the file may be automatically deleted. If omitted, the default is seven (7).</td></tr><tr><td><span class="bold"><strong>FEW</strong></span></td><td>Specifies the <span class="emphasis"><em>indexfile</em></span> is created as a single one-part file. Used only for small datasets (typically lookup-type files, such as 2-character state codes). This option is now deprecated in favor of using the WIDTH(1).</td></tr><tr><td><span class="emphasis"><em>indexdef</em></span></td><td>The name of an existing INDEX attribute definition that provides the <span class="emphasis"><em>baserecset</em></span>, <span class="emphasis"><em>indexrec</em></span>, and <span class="emphasis"><em>indexfile</em></span> parameters to use.</td></tr><tr><td><span class="bold"><strong>LOCAL</strong></span></td><td>Specifies the operation is performed on each supercomputer node independently, without requiring interaction with all other nodes to acquire data; the operation maintains the distribution of any previous DISTRIBUTE function.</td></tr><tr><td><span class="bold"><strong>NOROOT</strong></span></td><td>Specifies that the index is not globally sorted, and there is no root index to indicate which part of the index will contain a particular entry. This may be useful in Roxie queries in conjunction with ALLNODES use.</td></tr><tr><td><span class="bold"><strong>DISTRIBUTED</strong></span></td><td>Specifies both the LOCAL and NOROOT options (congruent with the DISTRIBUTED option on an INDEX declaration, which specifies the index was built with the LOCAL and NOROOT options).</td></tr><tr><td><span class="bold"><strong>COMPRESSED</strong></span></td><td>Specifies the type of compression used. If omitted, the default is LZW, a variant of the Lempel-Ziv-Welch algorithm. Specifying ROW compresses index entries based on differences between contiguous rows (for use with fixed-length records, only), and is recommended for use in circumstances where speedier decompression time is more important than the amount of compression achieved. FIRST compresses common leading elements of the key (recommended only for timing comparison use).</td></tr><tr><td><span class="bold"><strong>WIDTH</strong></span></td><td>Specifies writing the <span class="emphasis"><em>indexfile</em></span> to a different number of physical file parts than the number of nodes in the cluster on which the workunit executes. If omitted, the default is the number of nodes in the cluster on which the workunit executes. This option is primarily to create indexes on a large Thor that are destined to be deployed to a smaller Roxie (making the Roxie queries more efficient).</td></tr><tr><td><span class="emphasis"><em>nodes</em></span></td><td>The number of physical file parts to write. If set to one (1), this operates exactly the same as the FEW option, above.</td></tr><tr><td><span class="bold"><strong>DEDUP</strong></span></td><td>Specifies that duplicate entries are eliminated from the INDEX.</td></tr><tr><td><span class="bold"><strong>SKEW</strong></span></td><td>Indicates that you know the data will not be spread evenly across nodes (will be skewed and you choose to override the default by specifying your own limit value to allow the job to continue despite the skewing.)</td></tr><tr><td><span class="emphasis"><em>limit</em></span></td><td>A value between zero (0) and one (1.0 = 100%) indicating the maximum percentage of skew to allow before the job fails (the default skew is 1.0 / &lt;number of slaves on cluster&gt;).</td></tr><tr><td><span class="emphasis"><em>target</em></span></td><td>Optional. A value between zero (0) and one (1.0 = 100%) indicating the desired maximum percentage of skew to allow (the default skew is 1.0 / &lt;number of slaves on cluster&gt;).</td></tr><tr><td><span class="bold"><strong>THRESHOLD</strong></span></td><td>Indicates the minimum size for a single part before the SKEW limit is enforced.</td></tr><tr><td><span class="emphasis"><em>size</em></span></td><td>An integer value indicating the minimum number of bytes for a single part. Default is 1GB.</td></tr><tr><td><span class="bold"><strong>MAXLENGTH</strong></span></td><td>Optional. This option is used to create indexes that are backward compatible for platform versions prior to 3.0. Specifies the maximum length of a variable-length index record. Fixed length records always use the minimum size required. If the default maximum length causes inefficiency problems, it can be explicitly overridden.</td></tr><tr><td><span class="emphasis"><em>value</em></span></td><td>Optional. An integer value indicating the maximum length. If omitted, the maximum size is calculated from the record structure. Variable-length records that do not specify MAXLENGTH may be slightly inefficient</td></tr><tr><td><span class="bold"><strong>UNORDERED</strong></span></td><td>Optional. Specifies the output record order is not significant.</td></tr><tr><td><span class="bold"><strong>ORDERED</strong></span></td><td>Specifies the significance of the output record order.</td></tr><tr><td><span class="emphasis"><em>bool</em></span></td><td>When False, specifies the output record order is not significant. When True, specifies the default output record order.</td></tr><tr><td><span class="bold"><strong>STABLE</strong></span></td><td>Optional. Specifies the input record order is significant.</td></tr><tr><td><span class="bold"><strong>UNSTABLE</strong></span></td><td>Optional. Specifies the input record order is not significant.</td></tr><tr><td><span class="bold"><strong>PARALLEL</strong></span></td><td>Optional. Try to evaluate this activity in parallel.</td></tr><tr><td><span class="emphasis"><em>numthreads</em></span></td><td>Optional. Try to evaluate this activity using <span class="emphasis"><em>numthreads</em></span> threads.</td></tr><tr><td><span class="bold"><strong>ALGORITHM</strong></span></td><td>Optional. Override the algorithm used for this activity.</td></tr><tr><td><span class="emphasis"><em>name</em></span></td><td>The algorithm to use for this activity. Must be from the list of supported algorithms for the SORT function's STABLE and UNSTABLE options.</td></tr><tr><td><span class="bold"><strong>SET</strong></span></td><td>Optional. SET is used to set a value to a named metadata option. This allows you to set user metadata whose use and purpose is up to the developer. Currently <span class="emphasis"><em>_nodeSize</em></span> is the only system-defined metadata, though other names starting with an underscore (_) should be considered reserved for system use. You may want to use SET(&#8216;_nodeSize&#8217;, &#8216;32768&#8217;) if your hardware and usage pattern work better with larger page sizes. The default (8192) may not be optimal for all scenarios on modern hardware. We recommend using a power of 2 and not smaller than 8k.</td></tr><tr><td><span class="emphasis"><em>option</em></span></td><td>A case sensitive string constant containing the name of the option to set.</td></tr><tr><td><span class="emphasis"><em>value</em></span></td><td>The value to set the option to. This may be any type of value, dependent on what the option expects to be.</td></tr></tbody></table></div><p></p></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="BUILD.html"><img src="images/prev.gif" alt="Prev"></a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="BUILD.html"><img src="images/up.gif" alt="Up"></a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="BUILD_an_Access_Index.html"><img src="images/next.gif" alt="Next"></a></td></tr><tr><td width="40%" align="left" valign="top">BUILD&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html"><img src="images/home.gif" alt="Home"></a></td><td width="40%" align="right" valign="top">&nbsp;BUILD an Access Index</td></tr></table></div></body></html>