<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>OUTPUT CSV Files</title><link rel="stylesheet" href="LN-html.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.75.1"><link rel="home" href="index.html" title="ECL Language Reference"><link rel="up" href="OUTPUT.html" title="OUTPUT"><link rel="prev" href="OUTPUT_Thor-Flat_Files.html" title="OUTPUT Thor/Flat Files"><link rel="next" href="OUTPUT_XML_Files.html" title="OUTPUT XML Files"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">OUTPUT CSV Files</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="OUTPUT_Thor-Flat_Files.html"><img src="images/prev.gif" alt="Prev"></a>&nbsp;</td><th width="60%" align="center">OUTPUT</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="OUTPUT_XML_Files.html"><img src="images/next.gif" alt="Next"></a></td></tr></table><hr></div><div class="sect2" title="OUTPUT CSV Files"><div class="titlepage"><div><div><h3 class="title"><a name="OUTPUT_CSV_Files"></a>OUTPUT CSV Files<a class="indexterm" name="d0e24503"></a><a class="indexterm" name="d0e24506"></a></h3></div></div></div><p><span class="bold"><strong>[</strong></span><span class="emphasis"><em>attr</em></span> :=<span class="bold"><strong> ] OUTPUT<a class="indexterm" name="d0e24517"></a>(</strong></span><span class="emphasis"><em>recordset</em></span><span class="bold"><strong>, [</strong></span><span class="emphasis"><em> format </em></span><span class="bold"><strong>]</strong></span><span class="emphasis"><em> ,file </em></span><span class="emphasis"><em>,</em></span><span class="bold"><strong> CSV<a class="indexterm" name="d0e24535"></a>[ (</strong></span><span class="emphasis"><em>csvoptions</em></span><span class="bold"><strong>) ]</strong></span><span class="bold"><strong> </strong></span><span class="bold"><strong>[, CLUSTER<a class="indexterm" name="d0e24547"></a>(</strong></span><span class="emphasis"><em> target </em></span><span class="bold"><strong>)] <span class="bold"><strong>[,ENCRYPT<a class="indexterm" name="d0e24557"></a>(</strong></span><span class="emphasis"><em>key</em></span><span class="bold"><strong>) ]</strong></span> [,COMPRESSED]</strong></span></p><p><span class="bold"><strong>[</strong></span><span class="emphasis"><em>,</em></span><span class="bold"><strong> OVERWRITE<a class="indexterm" name="d0e24573"></a> ]</strong></span><span class="bold"><strong><span class="bold"><strong>[, UPDATE<a class="indexterm" name="d0e24580"></a>]</strong></span> [</strong></span><span class="emphasis"><em>,</em></span><span class="bold"><strong> EXPIRE<a class="indexterm" name="d0e24589"></a>( [ </strong></span><span class="emphasis"><em>days </em></span><span class="bold"><strong>] ) ] )</strong></span></p><div class="informaltable"><table border="1"><colgroup><col width="16%"><col width="84%"></colgroup><tbody><tr><td><span class="bold"><strong>CLUSTER</strong></span></td><td>Optional. Specifies writing the file to the specified list of target clusters. If omitted, the file is written to the cluster on which the workunit executes. The number of physical file parts written to disk is always determined by the number of nodes in the cluster on which the workunit executes, regardless of the number of nodes on the target cluster(s).</td></tr><tr><td><span class="emphasis"><em>target</em></span></td><td>A comma-delimited list of string constants containing the names of the clusters to write the file to. The names must be listed as they appear on the ECL Watch Activity page or returned by the Std.System.Thorlib.Group() function, optionally with square brackets containing a comma-delimited list of node-numbers (1-based) and/or ranges (specified with a dash, as in n-m) to indicate the specific set of nodes to write to.</td></tr><tr><td><span class="bold"><strong>ENCRYPT</strong></span></td><td>Optional. Specifies writing the file to disk using both 256-bit AES encryption and LZW compression.</td></tr><tr><td><span class="emphasis"><em>key</em></span></td><td>A string constant containing the encryption key to use to encrypt the data.</td></tr><tr><td><span class="bold"><strong>COMPRESSED</strong></span></td><td>Optional. Specifies writing the file using LZW compression.</td></tr><tr><td><span class="bold"><strong>OVERWRITE</strong></span></td><td>Optional. Specifies overwriting the file if it already exists.</td></tr><tr><td><span class="bold"><strong>UPDATE</strong></span></td><td>Specifies that the file should be rewritten only if the code or input data has changed.</td></tr><tr><td><span class="bold"><strong>EXPIRE</strong></span></td><td>Optional. Specifies the file is a temporary file that may be automatically deleted after the specified number of days.</td></tr><tr><td><span class="emphasis"><em>days</em></span></td><td>Optional. The number of days after which the file may be automatically deleted. If omitted, the default is seven (7).</td></tr></tbody></table></div><p>This form writes the <span class="emphasis"><em>recordset</em></span> to the specified <span class="emphasis"><em>file</em></span> in the specified <span class="emphasis"><em>format</em></span> as a comma separated values ASCII file. The valid set of <span class="emphasis"><em>csvoptions</em></span> are:</p><p><span class="bold"><strong>HEADING<a class="indexterm" name="d0e24674"></a>( [</strong></span> <span class="emphasis"><em>headertext</em></span> <span class="bold"><strong>[</strong></span> <span class="emphasis"><em>, footertext</em></span> <span class="bold"><strong>] ] [, SINGLE<a class="indexterm" name="d0e24690"></a> ][, FORMAT<a class="indexterm" name="d0e24694"></a></strong></span><span class="emphasis"><em>(stringfunction)</em></span><span class="bold"><strong> ] )</strong></span></p><p><span class="bold"><strong>SEPARATOR<a class="indexterm" name="d0e24704"></a>(</strong></span> <span class="emphasis"><em>delimiters</em></span> <span class="bold"><strong>)</strong></span></p><p><span class="bold"><strong>TERMINATOR<a class="indexterm" name="d0e24717"></a>(</strong></span> <span class="emphasis"><em>delimiters</em></span> <span class="bold"><strong>)</strong></span></p><p><span class="bold"><strong>QUOTE<a class="indexterm" name="d0e24730"></a>( [</strong></span> <span class="emphasis"><em>delimiters</em></span> <span class="bold"><strong>] )</strong></span></p><p><span class="bold"><strong>ASCII<a class="indexterm" name="d0e24743"></a> | EBCDIC<a class="indexterm" name="d0e24747"></a> | UNICODE<a class="indexterm" name="d0e24751"></a></strong></span></p><div class="informaltable"><table border="1"><colgroup><col width="16%"><col width="84%"></colgroup><tbody><tr><td><span class="bold"><strong>HEADING</strong></span></td><td>Specifies file headers and footers.</td></tr><tr><td><span class="emphasis"><em>headertext</em></span></td><td>Optional. The text of the header record to place in the file. If omitted, the field names are used.</td></tr><tr><td><span class="emphasis"><em>footertext</em></span></td><td>Optional. The text of the footer record to place in the file. If omitted, no <span class="emphasis"><em>footertext</em></span> is output.</td></tr><tr><td><span class="bold"><strong>SINGLE</strong></span></td><td>Optional. Specifies the <span class="emphasis"><em>headertext</em></span> is written only to the beginning of part 1 and the <span class="emphasis"><em>footertext</em></span> is written only at the end of part n (producing a "standard" CSV file). If omitted, the <span class="emphasis"><em>headertext</em></span> and <span class="emphasis"><em>footertext</em></span> are placed at the beginning and end of each file part (useful for producing complex XML output).</td></tr><tr><td><span class="bold"><strong>FORMAT</strong></span></td><td>Optional. Specifies the headertext should be formatted using the <span class="emphasis"><em>stringfunction</em></span>.</td></tr><tr><td><span class="emphasis"><em>stringfunction</em></span></td><td>Optional. The function to use to format the column headers. This can be any function that takes a single string parameter and returns a string result</td></tr><tr><td><span class="bold"><strong>SEPARATOR</strong></span></td><td>Specifies the field delimiters.</td></tr><tr><td><span class="emphasis"><em>delimiters</em></span></td><td>A single string constant (or comma-delimited list of string constants) that define the character(s) used to delimit the data in the CSV file.</td></tr><tr><td><span class="bold"><strong>TERMINATOR</strong></span></td><td>Specifies the record delimiters.</td></tr><tr><td><span class="bold"><strong>QUOTE</strong></span></td><td>Specifies the quotation <span class="emphasis"><em>delimiters</em></span> for string values that may contain SEPARATOR or TERMINATOR <span class="emphasis"><em>delimiters</em></span> as part of their data.</td></tr><tr><td><span class="bold"><strong>ASCII</strong></span></td><td>Specifies all output is in ASCII format, including any EBCDIC or UNICODE fields.</td></tr><tr><td><span class="bold"><strong>EBCDIC</strong></span></td><td>Specifies all output is in EBCDIC format except the SEPARATOR and TERMINATOR (which are expressed as ASCII values).</td></tr><tr><td><span class="bold"><strong>UNICODE</strong></span></td><td>Specifies all output is in Unicode UTF8 format</td></tr></tbody></table></div><p>If none of the ASCII, EBCDIC, or UNICODE options are specified, the default output is in ASCII format with any UNICODE fields in UTF8 format. The other default <span class="emphasis"><em>csvoptions</em></span> are: </p><pre class="programlisting">           CSV(HEADING('',''), SEPARATOR(','), TERMINATOR('\n'), QUOTE())</pre><p>Example:</p><pre class="programlisting">//SINGLE option writes the header only to the first file part:
OUTPUT(ds,,'~thor::outdata.csv',CSV(HEADING(SINGLE)));

//This example writes the header and footer to every file part:
OUTPUT(XMLds,,'~thor::outdata.xml',CSV(HEADING('&lt;XML&gt;','&lt;/XML&gt;')));

//FORMAT option writes the header using the specified formatting function:
IMPORT STD;
OUTPUT(ds,,'~thor::outdata.csv',CSV(HEADING(FORMAT(STD.Str.ToUpperCase))));
</pre></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="OUTPUT_Thor-Flat_Files.html"><img src="images/prev.gif" alt="Prev"></a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="OUTPUT.html"><img src="images/up.gif" alt="Up"></a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="OUTPUT_XML_Files.html"><img src="images/next.gif" alt="Next"></a></td></tr><tr><td width="40%" align="left" valign="top">OUTPUT Thor/Flat Files&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html"><img src="images/home.gif" alt="Home"></a></td><td width="40%" align="right" valign="top">&nbsp;OUTPUT XML Files</td></tr></table></div></body></html>