<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Working With the Data</title><link rel="stylesheet" href="LN-html.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.75.1"><link rel="home" href="index.html" title="Six Degrees of Kevin Bacon"><link rel="up" href="Processing_the_data.html" title="Processing the Data"><link rel="prev" href="Spray_the_Data_to_THOR.html" title="Spray the Data File to your Data Refinery (Thor) Cluster"><link rel="next" href="Examine_The_Data.html" title="Examine the Data"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Working With the Data</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="Spray_the_Data_to_THOR.html"><img src="images/prev.gif" alt="Prev"></a>&nbsp;</td><th width="60%" align="center">Processing the Data</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="Examine_The_Data.html"><img src="images/next.gif" alt="Next"></a></td></tr></table><hr></div><div class="sect2" title="Working With the Data"><div class="titlepage"><div><div><h3 class="title"><a name="Working_with_the_Data"></a>Working With the Data</h3></div></div></div><p>In this portion of the example, we will write ECL code to make sure we can read the sprayed data file .We will define and execute simple queries on it so we can evaluate it and determine any necessary pre-processing.</p><div class="itemizedlist"><ul class="itemizedlist" type="bullet"><li class="listitem" style="list-style-type: disc"><p>Start the ECL IDE (Start &gt;&gt; All Programs &gt;&gt; HPCC Systems &gt;&gt; ECL IDE )</p></li><li class="listitem" style="list-style-type: disc"><p>Log in to your environment.</p></li><li class="listitem" style="list-style-type: disc"><p>Expand the <span class="bold"><strong>examples</strong></span> ECL folder in the Repository toolbox.</p></li><li class="listitem" style="list-style-type: disc"><p>Expand the <span class="bold"><strong>IMDB </strong></span>folder inside.</p><p>All the ECL files needed to complete this tutorial are located in the IMDB folder.</p><div class="figure"><a name="d0e434"></a><p class="title"><b>Figure&nbsp;7.&nbsp;IMDB ECL Files</b></p><div class="figure-contents"><div class="mediaobject"><img src="images/resources/IMDB_06_new.jpg" alt="IMDB ECL Files"></div></div></div><br class="figure-break"></li><li class="listitem" style="list-style-type: disc"><p>Open the CleanActor ECL file and examine the code.</p><p>This code reads and processes the raw text file. The comments below describe the processing:</p><pre class="programlisting">IMPORT Std;

EXPORT STRING CleanActor(STRING infld) := FUNCTION
  //this can be refined later
  s1 := Std.Str.FindReplace(infld, '\'',''); // replace apostrophe
  s2 := Std.Str.FindReplace(s1, '\t','');    //replace tabs
  s3 := Std.Str.FindReplace(s2, '----','');  // replace multiple -----
  return TRIM(s3, LEFT, RIGHT);
END;
</pre></li></ul></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="Spray_the_Data_to_THOR.html"><img src="images/prev.gif" alt="Prev"></a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="Processing_the_data.html"><img src="images/up.gif" alt="Up"></a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="Examine_The_Data.html"><img src="images/next.gif" alt="Next"></a></td></tr><tr><td width="40%" align="left" valign="top">Spray the Data File to your <span class="emphasis"><em>Data Refinery (Thor) Cluster</em></span>&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html"><img src="images/home.gif" alt="Home"></a></td><td width="40%" align="right" valign="top">&nbsp;Examine the Data</td></tr></table></div></body></html>