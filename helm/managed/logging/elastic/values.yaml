# Default values for a lightweight Elastic Stack instance which can process HPCC component logs.

##The elasticsearch component can be customized by modifying helm chart values here.
elasticsearch:
  enabled: true
  description: "HPCC Managed Elasticsearch"
  ##See https://github.com/elastic/helm-charts/blob/master/elasticsearch/values.yaml for all available options
  antiAffinity: "soft"  #default is HARD, for minimal systems soft might be necessary
  replicas: 1           #default is 3, for minimal systems 1 replicas should be adequate
  minimumMasterNodes: 1 #default is 2, for minimal systems 1 master node should be adequate
  labels: {"managedby" : "HPCC"}
  clusterHealthCheckParams: "local=true" #local node health status
  #clusterHealthCheckParams: "wait_for_status=yellow&timeout=1s"
  volumeClaimTemplate:
    accessModes: [ "ReadWriteOnce" ]
    resources:
      requests:
        storage: 5Gi
  #persistence:
    #enabled: true
    #labels:
      # Add default labels for the volumeClaimTemplate fo the StatefulSet
      #enabled: false
    #annotations: {}
  extraEnvs:
    # Increase WAIT_ES_READY_IN_SEC if get 'Cluster health check is unknown' message in log
    - name: WAIT_ES_READY_IN_SEC
      value: "120"
  lifecycle:
    postStart:
      exec:
        command:
          - bash
          - -c
          - |
            PIPELINE_NAME=hpccpipeline
            ES_URL=http://localhost:9200
            PIPELINE_REQ_PATH=_ingest/pipeline
            [ -z ${WAIT_ES_READY_IN_SEC} ] && WAIT_ES_READY_IN_SEC=120
            END_TIME=$(expr $(date +%s) \+ ${WAIT_ES_READY_IN_SEC})
            START_FILE=/tmp/.es_start_file
            while [[ $(date +%s) -le ${END_TIME} ]]; do
              [ -f "${START_FILE}" ] && break
              sleep 1
            done
            if [ -f "${START_FILE}" ]; then
              echo 'Cluster is ready to add hpccpipeline'
            else
              echo 'Cluster health check timeout. Will try to add hpccpipeline anyway.'
            fi
            # Need wait elasticsearch container ready to test the hostname with ordinal
            # Only add pipeline in the first elasticsearch master
            if [ ${HOSTNAME##*-} -eq 0 ]; then
              curl -s -X PUT "$ES_URL/$PIPELINE_REQ_PATH/$PIPELINE_NAME/" -H 'Content-Type: application/json' \
                -d'{ "description": "Parses and formats HPCC Systems component log entries", "version": 10212, "processors": [ { "grok": { "field": "message", "patterns": [ "(?m)%{BASE16NUM:hpcc.log.sequence}\\s+%{HPCC_LOG_AUDIENCE:hpcc.log.audience}\\s+%{HPCC_LOG_CLASS:hpcc.log.class}\\s+%{TIMESTAMP_ISO8601:hpcc.log.timestamp}\\s+%{POSINT:hpcc.log.procid}\\s+%{POSINT:hpcc.log.threadid}\\s+%{HPCC_LOG_WUID:hpcc.log.jobid}\\s+\"%{GREEDYDATA:hpcc.log.message}\"" ], "pattern_definitions": { "HPCC_LOG_WUID": "([A-Z][0-9]{8}-[0-9]{6}(-[0-9]+)?)|(UNK)", "HPCC_LOG_CLASS": "DIS|ERR|WRN|INF|PRO|MET|UNK", "HPCC_LOG_AUDIENCE": "OPR|USR|PRG|AUD|UNK" } } }, { "date": { "field": "hpcc.log.timestamp", "formats": [ "yyyy-MM-dd HH:mm:ss.SSS" ], "timezone": "UTC" } } ], "on_failure": [ { "set": { "field": "hpccpipeline.error.message", "value": "{{ _ingest.on_failure_message }}" } } ] }'
              rc=$?
              if [ ${rc} -eq 0 ]; then
                echo 'Successfully added hpccpipeline !'
              else
                echo 'Failed to add hpccpipeline.'
              fi
            fi

##The filebeat component can be customized by modifying helm chart values here.
filebeat:
  description: "HPCC Managed filebeat"
  ##See https://github.com/elastic/helm-charts/blob/master/filebeat/values.yaml for all available options
  labels: {"managedby" : "HPCC"}
  ## Allows you to add any config files in /usr/share/filebeat
  ## such as filebeat.yml
  filebeatConfig:
    filebeat.yml: |
      #Required if targeting non-default index (filebeat-%{[agent.version]}-%{+yyyy.MM.dd}) such as hpccsystems-%{[fields.log_type]}-%{[agent.version]}-%{+yyyy.MM.dd}, etc.
      setup.template.name: "hpcc-logs"
      setup.template.pattern: "hpcc-logs-*"
      setup.ilm.enabled: true
      setup.ilm.rollover_alias: "hpcc-logs"
      setup.ilm.pattern: "{now/d}-000001"
      setup.ilm.policy_name: "Standard-Index"
      #setup.template.overwrite: true
      filebeat.inputs:
      - type: container
        pipeline: 'hpccpipeline'
        paths:
          - /var/log/containers/esdl-sandbox-*.log
          - /var/log/containers/eclwatch-*.log
          - /var/log/containers/mydali-*.log
          - /var/log/containers/eclqueries-*.log
          - /var/log/containers/sql2ecl-*.log
          - /var/log/containers/eclservices-*.log
          - /var/log/containers/dfuserver-*.log
          - /var/log/containers/eclscheduler-*.log
          - /var/log/containers/hthor-*.log
          - /var/log/containers/myeclccserver-*.log
          - /var/log/containers/roxie-*.log
          - /var/log/containers/sasha-*.log
          - /var/log/containers/thor-*.log
          - /var/log/containers/spray-service-*.log
          - /var/log/containers/dfs-*.log
        #exclude_files: ['(myelk-kibana|myelk-filebeat)+(.*).log']
        processors:
        - add_kubernetes_metadata:
            host: ${NODE_NAME}
            matchers:
            - logs_path:
                logs_path: "/var/log/containers/"
        multiline.type: pattern
        multiline.pattern: '^([A-Z-0-9]{8})\s+'
        multiline.negate: true
        multiline.match: after
      output.elasticsearch:
        host: '${NODE_NAME}'
        hosts: '${ELASTICSEARCH_HOSTS:elasticsearch-master:9200}'
      #NOTE: Pipeline could be used to provide Log structure and therefore enhance search capabilities of HPCC component log entries
      #      Pipeline must be manually inserted either via Elastic Search API, or Kibana Pipeline ingest UI.
      #      See https://github.com/hpcc-systems/HPCC-Platform/blob/master/helm/managed/logging/elastic/README.md
        pipeline: 'hpccpipeline'
      #  index: "hpccsystems-%{[fields.log_type]}-%{[agent.version]}-%{+yyyy.MM.dd}"
        index: "hpcc-logs-%{+yyyy.MM.dd}"

##The kibana component can be customized by modifying helm chart values here.
kibana:
  enabled: true
  description: "HPCC Managed Kibana"
  ##See https://github.com/elastic/helm-charts/blob/master/kibana/values.yaml for all available options
  labels: {"managedby" : "HPCC"}
  ## Allows you to add any config files in /usr/share/kibana/config/
  ## such as kibana.yml
  kibanaConfig:
    file.ndjson: |
        {"attributes":{"description":"","hits":0,"kibanaSavedObjectMeta":{"searchSourceJSON":"{\"query\":{\"query\":\"\",\"language\":\"kuery\"},\"filter\":[{\"meta\":{\"alias\":\"Errors\",\"negate\":false,\"disabled\":false,\"type\":\"phrase\",\"key\":\"hpcc.log.class\",\"params\":{\"query\":\"ERR\"},\"indexRefName\":\"kibanaSavedObjectMeta.searchSourceJSON.filter[0].meta.index\"},\"query\":{\"match_phrase\":{\"hpcc.log.class\":\"ERR\"}},\"$state\":{\"store\":\"appState\"}}]}"},"optionsJSON":"{\"useMargins\":true,\"syncColors\":false,\"hidePanelTitles\":false}","panelsJSON":"[{\"version\":\"7.17.1\",\"type\":\"lens\",\"gridData\":{\"x\":0,\"y\":0,\"w\":23,\"h\":6,\"i\":\"678a2e30-dded-4079-bb7d-144a2db959b4\"},\"panelIndex\":\"678a2e30-dded-4079-bb7d-144a2db959b4\",\"embeddableConfig\":{\"attributes\":{\"title\":\"\",\"visualizationType\":\"lnsPie\",\"type\":\"lens\",\"references\":[{\"type\":\"index-pattern\",\"id\":\"hpcc-filebeat-pattern\",\"name\":\"indexpattern-datasource-current-indexpattern\"},{\"type\":\"index-pattern\",\"id\":\"hpcc-filebeat-pattern\",\"name\":\"indexpattern-datasource-layer-b85ee29a-7d40-4c20-92dd-4df500a87aad\"}],\"state\":{\"visualization\":{\"shape\":\"treemap\",\"layers\":[{\"layerId\":\"b85ee29a-7d40-4c20-92dd-4df500a87aad\",\"groups\":[\"75c9b2e0-ed14-4eb8-9220-a4f2b9b08a2e\"],\"metric\":\"2f843b94-2a68-45f1-81ab-93d780e1f7c6\",\"numberDisplay\":\"value\",\"categoryDisplay\":\"default\",\"legendDisplay\":\"default\",\"nestedLegend\":false,\"layerType\":\"data\",\"truncateLegend\":false}],\"palette\":{\"type\":\"palette\",\"name\":\"negative\"}},\"query\":{\"query\":\"\",\"language\":\"kuery\"},\"filters\":[],\"datasourceStates\":{\"indexpattern\":{\"layers\":{\"b85ee29a-7d40-4c20-92dd-4df500a87aad\":{\"columns\":{\"75c9b2e0-ed14-4eb8-9220-a4f2b9b08a2e\":{\"label\":\"Top values of kubernetes.container.name\",\"dataType\":\"string\",\"operationType\":\"terms\",\"scale\":\"ordinal\",\"sourceField\":\"kubernetes.container.name\",\"isBucketed\":true,\"params\":{\"size\":15,\"orderBy\":{\"type\":\"alphabetical\",\"fallback\":true},\"orderDirection\":\"asc\",\"otherBucket\":false,\"missingBucket\":false}},\"2f843b94-2a68-45f1-81ab-93d780e1f7c6\":{\"label\":\"count()\",\"dataType\":\"number\",\"operationType\":\"formula\",\"isBucketed\":false,\"scale\":\"ratio\",\"params\":{\"formula\":\"count()\",\"isFormulaBroken\":false},\"references\":[\"2f843b94-2a68-45f1-81ab-93d780e1f7c6X0\"]},\"2f843b94-2a68-45f1-81ab-93d780e1f7c6X0\":{\"label\":\"Part of count()\",\"dataType\":\"number\",\"operationType\":\"count\",\"isBucketed\":false,\"scale\":\"ratio\",\"sourceField\":\"Records\",\"customLabel\":true}},\"columnOrder\":[\"75c9b2e0-ed14-4eb8-9220-a4f2b9b08a2e\",\"2f843b94-2a68-45f1-81ab-93d780e1f7c6\",\"2f843b94-2a68-45f1-81ab-93d780e1f7c6X0\"],\"incompleteColumns\":{}}}}}}},\"hidePanelTitles\":false,\"enhancements\":{}},\"title\":\"Errors By HPCC Component\"},{\"version\":\"7.17.1\",\"type\":\"lens\",\"gridData\":{\"x\":23,\"y\":0,\"w\":25,\"h\":6,\"i\":\"9cd02d61-0a2f-4719-9911-6bffffab586a\"},\"panelIndex\":\"9cd02d61-0a2f-4719-9911-6bffffab586a\",\"embeddableConfig\":{\"attributes\":{\"title\":\"\",\"visualizationType\":\"lnsPie\",\"type\":\"lens\",\"references\":[{\"type\":\"index-pattern\",\"id\":\"hpcc-filebeat-pattern\",\"name\":\"indexpattern-datasource-current-indexpattern\"},{\"type\":\"index-pattern\",\"id\":\"hpcc-filebeat-pattern\",\"name\":\"indexpattern-datasource-layer-f0940f01-47e6-43e0-8695-e46c70cba5f1\"}],\"state\":{\"visualization\":{\"shape\":\"treemap\",\"layers\":[{\"layerId\":\"f0940f01-47e6-43e0-8695-e46c70cba5f1\",\"groups\":[\"e5b25580-06c0-4474-9367-f21fb3b4faec\"],\"metric\":\"ba799963-893b-4106-91bf-a5678c2a4de7\",\"numberDisplay\":\"value\",\"categoryDisplay\":\"default\",\"legendDisplay\":\"default\",\"nestedLegend\":false,\"layerType\":\"data\"}],\"palette\":{\"type\":\"palette\",\"name\":\"negative\"}},\"query\":{\"query\":\"\",\"language\":\"kuery\"},\"filters\":[],\"datasourceStates\":{\"indexpattern\":{\"layers\":{\"f0940f01-47e6-43e0-8695-e46c70cba5f1\":{\"columns\":{\"e5b25580-06c0-4474-9367-f21fb3b4faec\":{\"label\":\"Top values of kubernetes.pod.name\",\"dataType\":\"string\",\"operationType\":\"terms\",\"scale\":\"ordinal\",\"sourceField\":\"kubernetes.pod.name\",\"isBucketed\":true,\"params\":{\"size\":5,\"orderBy\":{\"type\":\"column\",\"columnId\":\"ba799963-893b-4106-91bf-a5678c2a4de7\"},\"orderDirection\":\"desc\",\"otherBucket\":false,\"missingBucket\":false}},\"ba799963-893b-4106-91bf-a5678c2a4de7\":{\"label\":\"Count of records\",\"dataType\":\"number\",\"operationType\":\"count\",\"isBucketed\":false,\"scale\":\"ratio\",\"sourceField\":\"Records\"}},\"columnOrder\":[\"e5b25580-06c0-4474-9367-f21fb3b4faec\",\"ba799963-893b-4106-91bf-a5678c2a4de7\"],\"incompleteColumns\":{}}}}}}},\"hidePanelTitles\":false,\"enhancements\":{}},\"title\":\"Errors By Pod\"},{\"version\":\"7.17.1\",\"type\":\"lens\",\"gridData\":{\"x\":0,\"y\":6,\"w\":48,\"h\":15,\"i\":\"833e85ef-81bc-419d-b3e5-8f7b5d4ff184\"},\"panelIndex\":\"833e85ef-81bc-419d-b3e5-8f7b5d4ff184\",\"embeddableConfig\":{\"attributes\":{\"title\":\"\",\"visualizationType\":\"lnsDatatable\",\"type\":\"lens\",\"references\":[{\"type\":\"index-pattern\",\"id\":\"hpcc-filebeat-pattern\",\"name\":\"indexpattern-datasource-current-indexpattern\"},{\"type\":\"index-pattern\",\"id\":\"hpcc-filebeat-pattern\",\"name\":\"indexpattern-datasource-layer-d5d439fa-8abc-4c2b-969f-9ac520ca78ea\"}],\"state\":{\"visualization\":{\"layerId\":\"d5d439fa-8abc-4c2b-969f-9ac520ca78ea\",\"layerType\":\"data\",\"columns\":[{\"columnId\":\"e2d9b0e3-c402-4093-936e-a22f95913080\"},{\"columnId\":\"430fdf1a-37ab-428f-af40-c9bb3c6fe53c\",\"hidden\":true}]},\"query\":{\"query\":\"\",\"language\":\"kuery\"},\"filters\":[],\"datasourceStates\":{\"indexpattern\":{\"layers\":{\"d5d439fa-8abc-4c2b-969f-9ac520ca78ea\":{\"columns\":{\"e2d9b0e3-c402-4093-936e-a22f95913080\":{\"label\":\"Top values of hpcc.log.message\",\"dataType\":\"string\",\"operationType\":\"terms\",\"scale\":\"ordinal\",\"sourceField\":\"hpcc.log.message\",\"isBucketed\":true,\"params\":{\"size\":30,\"orderBy\":{\"type\":\"column\",\"columnId\":\"430fdf1a-37ab-428f-af40-c9bb3c6fe53c\"},\"orderDirection\":\"desc\",\"otherBucket\":false,\"missingBucket\":false}},\"430fdf1a-37ab-428f-af40-c9bb3c6fe53c\":{\"label\":\"Count of records\",\"dataType\":\"number\",\"operationType\":\"count\",\"isBucketed\":false,\"scale\":\"ratio\",\"sourceField\":\"Records\"}},\"columnOrder\":[\"e2d9b0e3-c402-4093-936e-a22f95913080\",\"430fdf1a-37ab-428f-af40-c9bb3c6fe53c\"],\"incompleteColumns\":{}}}}}}},\"hidePanelTitles\":false,\"enhancements\":{}},\"title\":\"Error Log Message\"}]","timeRestore":false,"title":"HPCC Component Errors","version":1},"coreMigrationVersion":"7.17.1","id":"493a13a0-32ac-11ed-8894-1fb7605a7fdd","migrationVersion":{"dashboard":"7.17.0"},"references":[{"id":"hpcc-filebeat-pattern","name":"kibanaSavedObjectMeta.searchSourceJSON.filter[0].meta.index","type":"index-pattern"},{"id":"hpcc-filebeat-pattern","name":"678a2e30-dded-4079-bb7d-144a2db959b4:indexpattern-datasource-current-indexpattern","type":"index-pattern"},{"id":"hpcc-filebeat-pattern","name":"678a2e30-dded-4079-bb7d-144a2db959b4:indexpattern-datasource-layer-b85ee29a-7d40-4c20-92dd-4df500a87aad","type":"index-pattern"},{"id":"hpcc-filebeat-pattern","name":"9cd02d61-0a2f-4719-9911-6bffffab586a:indexpattern-datasource-current-indexpattern","type":"index-pattern"},{"id":"hpcc-filebeat-pattern","name":"9cd02d61-0a2f-4719-9911-6bffffab586a:indexpattern-datasource-layer-f0940f01-47e6-43e0-8695-e46c70cba5f1","type":"index-pattern"},{"id":"hpcc-filebeat-pattern","name":"833e85ef-81bc-419d-b3e5-8f7b5d4ff184:indexpattern-datasource-current-indexpattern","type":"index-pattern"},{"id":"hpcc-filebeat-pattern","name":"833e85ef-81bc-419d-b3e5-8f7b5d4ff184:indexpattern-datasource-layer-d5d439fa-8abc-4c2b-969f-9ac520ca78ea","type":"index-pattern"},{"id":"3303e390-32ac-11ed-8894-1fb7605a7fdd","name":"tag-3303e390-32ac-11ed-8894-1fb7605a7fdd","type":"tag"},{"id":"396afcf0-32ac-11ed-8894-1fb7605a7fdd","name":"tag-396afcf0-32ac-11ed-8894-1fb7605a7fdd","type":"tag"},{"id":"40dd6bd0-32ac-11ed-8894-1fb7605a7fdd","name":"tag-40dd6bd0-32ac-11ed-8894-1fb7605a7fdd","type":"tag"},{"id":"47517d80-32ac-11ed-8894-1fb7605a7fdd","name":"tag-47517d80-32ac-11ed-8894-1fb7605a7fdd","type":"tag"}],"type":"dashboard","updated_at":"2022-09-14T13:41:58.661Z","version":"WzQ5MzcsMl0="}
        {"attributes":{"description":"","hits":0,"kibanaSavedObjectMeta":{"searchSourceJSON":"{\"query\":{\"query\":\"\",\"language\":\"kuery\"},\"filter\":[]}"},"optionsJSON":"{\"useMargins\":true,\"syncColors\":false,\"hidePanelTitles\":false}","panelsJSON":"[{\"version\":\"7.17.1\",\"type\":\"lens\",\"gridData\":{\"x\":0,\"y\":0,\"w\":17,\"h\":6,\"i\":\"c52ed3ff-a646-4130-860b-ae79fd9ee057\"},\"panelIndex\":\"c52ed3ff-a646-4130-860b-ae79fd9ee057\",\"embeddableConfig\":{\"attributes\":{\"title\":\"\",\"visualizationType\":\"lnsPie\",\"type\":\"lens\",\"references\":[{\"type\":\"index-pattern\",\"id\":\"hpcc-filebeat-pattern\",\"name\":\"indexpattern-datasource-current-indexpattern\"},{\"type\":\"index-pattern\",\"id\":\"hpcc-filebeat-pattern\",\"name\":\"indexpattern-datasource-layer-6edb0009-67ce-421e-96d9-b11737ca985a\"},{\"name\":\"filter-index-pattern-0\",\"type\":\"index-pattern\",\"id\":\"hpcc-filebeat-pattern\"}],\"state\":{\"visualization\":{\"shape\":\"donut\",\"layers\":[{\"layerId\":\"6edb0009-67ce-421e-96d9-b11737ca985a\",\"groups\":[\"e465d2ea-d869-409e-85ac-5b8cc49903b2\",\"e465d2ea-d869-409e-85ac-5b8cc49903b2\",\"e465d2ea-d869-409e-85ac-5b8cc49903b2\"],\"metric\":\"6f9cbc4a-0c2b-4c26-8112-b389d464f4a9\",\"numberDisplay\":\"value\",\"categoryDisplay\":\"default\",\"legendDisplay\":\"default\",\"nestedLegend\":false,\"layerType\":\"data\"}],\"palette\":{\"type\":\"palette\",\"name\":\"negative\"}},\"query\":{\"query\":\"\",\"language\":\"kuery\"},\"filters\":[{\"meta\":{\"alias\":null,\"negate\":false,\"disabled\":false,\"type\":\"phrase\",\"key\":\"hpcc.log.class\",\"params\":{\"query\":\"ERR\"},\"indexRefName\":\"filter-index-pattern-0\"},\"query\":{\"match_phrase\":{\"hpcc.log.class\":\"ERR\"}},\"$state\":{\"store\":\"appState\"}}],\"datasourceStates\":{\"indexpattern\":{\"layers\":{\"6edb0009-67ce-421e-96d9-b11737ca985a\":{\"columns\":{\"6f9cbc4a-0c2b-4c26-8112-b389d464f4a9\":{\"label\":\"Count of records\",\"dataType\":\"number\",\"operationType\":\"count\",\"isBucketed\":false,\"scale\":\"ratio\",\"sourceField\":\"Records\"},\"e465d2ea-d869-409e-85ac-5b8cc49903b2\":{\"label\":\"Top values of kubernetes.container.name\",\"dataType\":\"string\",\"operationType\":\"terms\",\"scale\":\"ordinal\",\"sourceField\":\"kubernetes.container.name\",\"isBucketed\":true,\"params\":{\"size\":10,\"orderBy\":{\"type\":\"column\",\"columnId\":\"6f9cbc4a-0c2b-4c26-8112-b389d464f4a9\"},\"orderDirection\":\"desc\",\"otherBucket\":false,\"missingBucket\":false}}},\"columnOrder\":[\"e465d2ea-d869-409e-85ac-5b8cc49903b2\",\"6f9cbc4a-0c2b-4c26-8112-b389d464f4a9\"],\"incompleteColumns\":{}}}}}}},\"enhancements\":{},\"hidePanelTitles\":false},\"title\":\"Error Count per Component\"},{\"version\":\"7.17.1\",\"type\":\"lens\",\"gridData\":{\"x\":17,\"y\":0,\"w\":15,\"h\":6,\"i\":\"b3087bb4-48ac-41ca-bd7c-2b75f83cd45c\"},\"panelIndex\":\"b3087bb4-48ac-41ca-bd7c-2b75f83cd45c\",\"embeddableConfig\":{\"attributes\":{\"title\":\"\",\"visualizationType\":\"lnsPie\",\"type\":\"lens\",\"references\":[{\"type\":\"index-pattern\",\"id\":\"hpcc-filebeat-pattern\",\"name\":\"indexpattern-datasource-current-indexpattern\"},{\"type\":\"index-pattern\",\"id\":\"hpcc-filebeat-pattern\",\"name\":\"indexpattern-datasource-layer-6edb0009-67ce-421e-96d9-b11737ca985a\"},{\"name\":\"filter-index-pattern-0\",\"type\":\"index-pattern\",\"id\":\"hpcc-filebeat-pattern\"}],\"state\":{\"visualization\":{\"shape\":\"donut\",\"layers\":[{\"layerId\":\"6edb0009-67ce-421e-96d9-b11737ca985a\",\"groups\":[\"e465d2ea-d869-409e-85ac-5b8cc49903b2\",\"e465d2ea-d869-409e-85ac-5b8cc49903b2\",\"e465d2ea-d869-409e-85ac-5b8cc49903b2\"],\"metric\":\"6f9cbc4a-0c2b-4c26-8112-b389d464f4a9\",\"numberDisplay\":\"value\",\"categoryDisplay\":\"default\",\"legendDisplay\":\"default\",\"nestedLegend\":false,\"layerType\":\"data\"}],\"palette\":{\"type\":\"palette\",\"name\":\"warm\"}},\"query\":{\"query\":\"\",\"language\":\"kuery\"},\"filters\":[{\"meta\":{\"alias\":null,\"negate\":false,\"disabled\":false,\"type\":\"phrase\",\"key\":\"hpcc.log.class\",\"params\":{\"query\":\"WRN\"},\"indexRefName\":\"filter-index-pattern-0\"},\"query\":{\"match_phrase\":{\"hpcc.log.class\":\"WRN\"}},\"$state\":{\"store\":\"appState\"}}],\"datasourceStates\":{\"indexpattern\":{\"layers\":{\"6edb0009-67ce-421e-96d9-b11737ca985a\":{\"columns\":{\"6f9cbc4a-0c2b-4c26-8112-b389d464f4a9\":{\"label\":\"Count of records\",\"dataType\":\"number\",\"operationType\":\"count\",\"isBucketed\":false,\"scale\":\"ratio\",\"sourceField\":\"Records\"},\"e465d2ea-d869-409e-85ac-5b8cc49903b2\":{\"label\":\"Top values of kubernetes.container.name\",\"dataType\":\"string\",\"operationType\":\"terms\",\"scale\":\"ordinal\",\"sourceField\":\"kubernetes.container.name\",\"isBucketed\":true,\"params\":{\"size\":10,\"orderBy\":{\"type\":\"column\",\"columnId\":\"6f9cbc4a-0c2b-4c26-8112-b389d464f4a9\"},\"orderDirection\":\"desc\",\"otherBucket\":false,\"missingBucket\":false}}},\"columnOrder\":[\"e465d2ea-d869-409e-85ac-5b8cc49903b2\",\"6f9cbc4a-0c2b-4c26-8112-b389d464f4a9\"],\"incompleteColumns\":{}}}}}}},\"enhancements\":{},\"hidePanelTitles\":false},\"title\":\"Warning Count per Component\"},{\"version\":\"7.17.1\",\"type\":\"lens\",\"gridData\":{\"x\":32,\"y\":0,\"w\":16,\"h\":6,\"i\":\"51daf253-6e1d-4d7d-a4bd-292a0b146ca8\"},\"panelIndex\":\"51daf253-6e1d-4d7d-a4bd-292a0b146ca8\",\"embeddableConfig\":{\"attributes\":{\"title\":\"\",\"visualizationType\":\"lnsPie\",\"type\":\"lens\",\"references\":[{\"type\":\"index-pattern\",\"id\":\"hpcc-filebeat-pattern\",\"name\":\"indexpattern-datasource-current-indexpattern\"},{\"type\":\"index-pattern\",\"id\":\"hpcc-filebeat-pattern\",\"name\":\"indexpattern-datasource-layer-6edb0009-67ce-421e-96d9-b11737ca985a\"},{\"name\":\"filter-index-pattern-0\",\"type\":\"index-pattern\",\"id\":\"hpcc-filebeat-pattern\"}],\"state\":{\"visualization\":{\"shape\":\"donut\",\"layers\":[{\"layerId\":\"6edb0009-67ce-421e-96d9-b11737ca985a\",\"groups\":[\"e465d2ea-d869-409e-85ac-5b8cc49903b2\",\"e465d2ea-d869-409e-85ac-5b8cc49903b2\",\"e465d2ea-d869-409e-85ac-5b8cc49903b2\",\"e465d2ea-d869-409e-85ac-5b8cc49903b2\"],\"metric\":\"6f9cbc4a-0c2b-4c26-8112-b389d464f4a9\",\"numberDisplay\":\"value\",\"categoryDisplay\":\"default\",\"legendDisplay\":\"default\",\"nestedLegend\":false,\"layerType\":\"data\"}],\"palette\":{\"type\":\"palette\",\"name\":\"negative\"}},\"query\":{\"query\":\"\",\"language\":\"kuery\"},\"filters\":[{\"meta\":{\"type\":\"phrases\",\"key\":\"hpcc.log.class\",\"params\":[\"ERR\",\"WRN\"],\"alias\":null,\"negate\":false,\"disabled\":false,\"indexRefName\":\"filter-index-pattern-0\"},\"query\":{\"bool\":{\"should\":[{\"match_phrase\":{\"hpcc.log.class\":\"ERR\"}},{\"match_phrase\":{\"hpcc.log.class\":\"WRN\"}}],\"minimum_should_match\":1}},\"$state\":{\"store\":\"appState\"}}],\"datasourceStates\":{\"indexpattern\":{\"layers\":{\"6edb0009-67ce-421e-96d9-b11737ca985a\":{\"columns\":{\"6f9cbc4a-0c2b-4c26-8112-b389d464f4a9\":{\"label\":\"Count of records\",\"dataType\":\"number\",\"operationType\":\"count\",\"isBucketed\":false,\"scale\":\"ratio\",\"sourceField\":\"Records\"},\"e465d2ea-d869-409e-85ac-5b8cc49903b2\":{\"label\":\"Top values of kubernetes.pod.name\",\"dataType\":\"string\",\"operationType\":\"terms\",\"scale\":\"ordinal\",\"sourceField\":\"kubernetes.pod.name\",\"isBucketed\":true,\"params\":{\"size\":10,\"orderBy\":{\"type\":\"column\",\"columnId\":\"6f9cbc4a-0c2b-4c26-8112-b389d464f4a9\"},\"orderDirection\":\"desc\",\"otherBucket\":false,\"missingBucket\":false}}},\"columnOrder\":[\"e465d2ea-d869-409e-85ac-5b8cc49903b2\",\"6f9cbc4a-0c2b-4c26-8112-b389d464f4a9\"],\"incompleteColumns\":{}}}}}}},\"enhancements\":{},\"hidePanelTitles\":false},\"title\":\"Error/Warn Count per Pod\"},{\"version\":\"7.17.1\",\"type\":\"lens\",\"gridData\":{\"x\":0,\"y\":6,\"w\":17,\"h\":6,\"i\":\"9fd03ed0-ff0a-40ba-a4e5-1a6e9000953d\"},\"panelIndex\":\"9fd03ed0-ff0a-40ba-a4e5-1a6e9000953d\",\"embeddableConfig\":{\"attributes\":{\"title\":\"\",\"visualizationType\":\"lnsXY\",\"type\":\"lens\",\"references\":[{\"type\":\"index-pattern\",\"id\":\"hpcc-filebeat-pattern\",\"name\":\"indexpattern-datasource-current-indexpattern\"},{\"type\":\"index-pattern\",\"id\":\"hpcc-filebeat-pattern\",\"name\":\"indexpattern-datasource-layer-ba4c59f2-293a-416e-a389-91bde68fc388\"},{\"name\":\"filter-index-pattern-0\",\"type\":\"index-pattern\",\"id\":\"hpcc-filebeat-pattern\"}],\"state\":{\"visualization\":{\"legend\":{\"isVisible\":false,\"position\":\"right\",\"showSingleSeries\":false},\"valueLabels\":\"hide\",\"fittingFunction\":\"None\",\"yLeftExtent\":{\"mode\":\"full\"},\"yRightExtent\":{\"mode\":\"full\"},\"axisTitlesVisibilitySettings\":{\"x\":false,\"yLeft\":true,\"yRight\":true},\"tickLabelsVisibilitySettings\":{\"x\":true,\"yLeft\":true,\"yRight\":true},\"labelsOrientation\":{\"x\":0,\"yLeft\":0,\"yRight\":0},\"gridlinesVisibilitySettings\":{\"x\":true,\"yLeft\":true,\"yRight\":true},\"preferredSeriesType\":\"line\",\"layers\":[{\"layerId\":\"ba4c59f2-293a-416e-a389-91bde68fc388\",\"accessors\":[\"662fcc6e-1a25-4ab4-a1ea-f73f89c1ab39\"],\"position\":\"top\",\"seriesType\":\"line\",\"showGridlines\":false,\"layerType\":\"data\",\"xAccessor\":\"cd2ff606-f58f-4beb-af9d-4cfcff1b7641\"}],\"yTitle\":\"Tx Count\"},\"query\":{\"query\":\"hpcc.log.message: TxSummary*\",\"language\":\"kuery\"},\"filters\":[{\"meta\":{\"alias\":null,\"negate\":false,\"disabled\":false,\"type\":\"phrase\",\"key\":\"kubernetes.container.name\",\"params\":{\"query\":\"eclwatch\"},\"indexRefName\":\"filter-index-pattern-0\"},\"query\":{\"match_phrase\":{\"kubernetes.container.name\":\"eclwatch\"}},\"$state\":{\"store\":\"appState\"}}],\"datasourceStates\":{\"indexpattern\":{\"layers\":{\"ba4c59f2-293a-416e-a389-91bde68fc388\":{\"columns\":{\"cd2ff606-f58f-4beb-af9d-4cfcff1b7641\":{\"label\":\"@timestamp\",\"dataType\":\"date\",\"operationType\":\"date_histogram\",\"sourceField\":\"@timestamp\",\"isBucketed\":true,\"scale\":\"interval\",\"params\":{\"interval\":\"auto\"}},\"662fcc6e-1a25-4ab4-a1ea-f73f89c1ab39\":{\"label\":\"Completed ESP Transactions\",\"dataType\":\"number\",\"operationType\":\"formula\",\"isBucketed\":false,\"scale\":\"ratio\",\"params\":{\"formula\":\"count(kql='hpcc.log.message: TxSummary*')\",\"isFormulaBroken\":false},\"references\":[\"662fcc6e-1a25-4ab4-a1ea-f73f89c1ab39X0\"],\"customLabel\":true},\"662fcc6e-1a25-4ab4-a1ea-f73f89c1ab39X0\":{\"label\":\"Part of count(kql='hpcc.log.message: TxSummary*')\",\"dataType\":\"number\",\"operationType\":\"count\",\"isBucketed\":false,\"scale\":\"ratio\",\"sourceField\":\"Records\",\"filter\":{\"query\":\"hpcc.log.message: TxSummary*\",\"language\":\"kuery\"},\"customLabel\":true}},\"columnOrder\":[\"cd2ff606-f58f-4beb-af9d-4cfcff1b7641\",\"662fcc6e-1a25-4ab4-a1ea-f73f89c1ab39\",\"662fcc6e-1a25-4ab4-a1ea-f73f89c1ab39X0\"],\"incompleteColumns\":{}}}}}}},\"enhancements\":{},\"hidePanelTitles\":false},\"title\":\"Completed ECLWatch Transactions\"},{\"version\":\"7.17.1\",\"type\":\"lens\",\"gridData\":{\"x\":17,\"y\":6,\"w\":31,\"h\":17,\"i\":\"dcdec923-c1e6-4631-b9ff-d8b477532f7b\"},\"panelIndex\":\"dcdec923-c1e6-4631-b9ff-d8b477532f7b\",\"embeddableConfig\":{\"attributes\":{\"title\":\"\",\"visualizationType\":\"lnsDatatable\",\"type\":\"lens\",\"references\":[{\"type\":\"index-pattern\",\"id\":\"hpcc-filebeat-pattern\",\"name\":\"indexpattern-datasource-current-indexpattern\"},{\"type\":\"index-pattern\",\"id\":\"hpcc-filebeat-pattern\",\"name\":\"indexpattern-datasource-layer-9a1a961f-1a41-41aa-8a82-98ec66eea836\"}],\"state\":{\"visualization\":{\"columns\":[{\"isTransposed\":false,\"columnId\":\"95b75f2b-9a93-484c-b7dd-9f0fa04b3bb2\"},{\"isTransposed\":false,\"columnId\":\"0ce5010a-8d12-468b-8fcf-0b37715ce0fb\",\"hidden\":true}],\"layerId\":\"9a1a961f-1a41-41aa-8a82-98ec66eea836\",\"layerType\":\"data\"},\"query\":{\"query\":\"\",\"language\":\"kuery\"},\"filters\":[],\"datasourceStates\":{\"indexpattern\":{\"layers\":{\"9a1a961f-1a41-41aa-8a82-98ec66eea836\":{\"columns\":{\"95b75f2b-9a93-484c-b7dd-9f0fa04b3bb2\":{\"label\":\"Most Common Log Statements\",\"dataType\":\"string\",\"operationType\":\"terms\",\"scale\":\"ordinal\",\"sourceField\":\"hpcc.log.message\",\"isBucketed\":true,\"params\":{\"size\":20,\"orderBy\":{\"type\":\"column\",\"columnId\":\"0ce5010a-8d12-468b-8fcf-0b37715ce0fb\"},\"orderDirection\":\"desc\",\"otherBucket\":true,\"missingBucket\":false},\"customLabel\":true},\"0ce5010a-8d12-468b-8fcf-0b37715ce0fb\":{\"label\":\"Count of records\",\"dataType\":\"number\",\"operationType\":\"count\",\"isBucketed\":false,\"scale\":\"ratio\",\"sourceField\":\"Records\"}},\"columnOrder\":[\"95b75f2b-9a93-484c-b7dd-9f0fa04b3bb2\",\"0ce5010a-8d12-468b-8fcf-0b37715ce0fb\"],\"incompleteColumns\":{}}}}}}},\"hidePanelTitles\":true,\"enhancements\":{\"dynamicActions\":{\"events\":[{\"eventId\":\"138b686f-4c4c-4462-bf80-4f12312734c1\",\"triggers\":[\"FILTER_TRIGGER\"],\"action\":{\"factoryId\":\"DASHBOARD_TO_DASHBOARD_DRILLDOWN\",\"name\":\"View Errors\",\"config\":{\"useCurrentFilters\":true,\"useCurrentDateRange\":true}}}]}}},\"title\":\"Most Common Log Statements\"},{\"version\":\"7.17.1\",\"type\":\"lens\",\"gridData\":{\"x\":0,\"y\":12,\"w\":17,\"h\":5,\"i\":\"5a8a55f5-5f9c-4808-a6d9-5b90345d4728\"},\"panelIndex\":\"5a8a55f5-5f9c-4808-a6d9-5b90345d4728\",\"embeddableConfig\":{\"attributes\":{\"title\":\"\",\"visualizationType\":\"lnsXY\",\"type\":\"lens\",\"references\":[{\"type\":\"index-pattern\",\"id\":\"hpcc-filebeat-pattern\",\"name\":\"indexpattern-datasource-current-indexpattern\"},{\"type\":\"index-pattern\",\"id\":\"hpcc-filebeat-pattern\",\"name\":\"indexpattern-datasource-layer-cb3a7bc8-ccb0-4bd2-9386-4fc2d7efc741\"},{\"name\":\"filter-index-pattern-0\",\"type\":\"index-pattern\",\"id\":\"hpcc-filebeat-pattern\"}],\"state\":{\"visualization\":{\"legend\":{\"isVisible\":false,\"position\":\"right\",\"showSingleSeries\":false},\"valueLabels\":\"hide\",\"fittingFunction\":\"None\",\"curveType\":\"CURVE_MONOTONE_X\",\"yTitle\":\"WUCount\",\"yLeftExtent\":{\"mode\":\"dataBounds\"},\"yRightExtent\":{\"mode\":\"full\"},\"axisTitlesVisibilitySettings\":{\"x\":false,\"yLeft\":true,\"yRight\":true},\"tickLabelsVisibilitySettings\":{\"x\":true,\"yLeft\":true,\"yRight\":true},\"labelsOrientation\":{\"x\":0,\"yLeft\":0,\"yRight\":0},\"gridlinesVisibilitySettings\":{\"x\":true,\"yLeft\":true,\"yRight\":true},\"preferredSeriesType\":\"line\",\"layers\":[{\"layerId\":\"cb3a7bc8-ccb0-4bd2-9386-4fc2d7efc741\",\"seriesType\":\"line\",\"xAccessor\":\"150a7406-20ac-43ee-b373-9e93a35b4436\",\"accessors\":[\"b4ecceb6-3db2-445f-ab56-df08ca56f1ab\"],\"yConfig\":[{\"forAccessor\":\"b4ecceb6-3db2-445f-ab56-df08ca56f1ab\",\"color\":\"#6092c0\"}],\"layerType\":\"data\"}]},\"query\":{\"query\":\"\",\"language\":\"kuery\"},\"filters\":[{\"meta\":{\"alias\":null,\"negate\":true,\"disabled\":false,\"type\":\"phrase\",\"key\":\"hpcc.log.jobid\",\"params\":{\"query\":\"UNK\"},\"indexRefName\":\"filter-index-pattern-0\"},\"query\":{\"match_phrase\":{\"hpcc.log.jobid\":\"UNK\"}},\"$state\":{\"store\":\"appState\"}}],\"datasourceStates\":{\"indexpattern\":{\"layers\":{\"cb3a7bc8-ccb0-4bd2-9386-4fc2d7efc741\":{\"columns\":{\"150a7406-20ac-43ee-b373-9e93a35b4436\":{\"label\":\"@timestamp\",\"dataType\":\"date\",\"operationType\":\"date_histogram\",\"sourceField\":\"@timestamp\",\"isBucketed\":true,\"scale\":\"interval\",\"params\":{\"interval\":\"auto\"}},\"b4ecceb6-3db2-445f-ab56-df08ca56f1ab\":{\"label\":\"WU Count\",\"dataType\":\"number\",\"operationType\":\"unique_count\",\"scale\":\"ratio\",\"sourceField\":\"hpcc.log.jobid\",\"isBucketed\":false,\"params\":{\"format\":{\"id\":\"number\",\"params\":{\"decimals\":0}}},\"customLabel\":true}},\"columnOrder\":[\"150a7406-20ac-43ee-b373-9e93a35b4436\",\"b4ecceb6-3db2-445f-ab56-df08ca56f1ab\"],\"incompleteColumns\":{}}}}}}},\"enhancements\":{},\"hidePanelTitles\":false},\"title\":\"Workunits Processed\"},{\"version\":\"7.17.1\",\"type\":\"lens\",\"gridData\":{\"x\":0,\"y\":17,\"w\":17,\"h\":6,\"i\":\"3f1726d1-b635-41a0-a102-9880416e2f0b\"},\"panelIndex\":\"3f1726d1-b635-41a0-a102-9880416e2f0b\",\"embeddableConfig\":{\"attributes\":{\"title\":\"\",\"visualizationType\":\"lnsXY\",\"type\":\"lens\",\"references\":[{\"type\":\"index-pattern\",\"id\":\"hpcc-filebeat-pattern\",\"name\":\"indexpattern-datasource-current-indexpattern\"},{\"type\":\"index-pattern\",\"id\":\"hpcc-filebeat-pattern\",\"name\":\"indexpattern-datasource-layer-8e8fcfdf-9235-488d-997e-401a053a445a\"}],\"state\":{\"visualization\":{\"legend\":{\"isVisible\":true,\"position\":\"right\",\"showSingleSeries\":true,\"isInside\":true},\"valueLabels\":\"hide\",\"fittingFunction\":\"None\",\"yTitle\":\"Log Entry Count\",\"valuesInLegend\":true,\"yLeftExtent\":{\"mode\":\"dataBounds\"},\"yRightExtent\":{\"mode\":\"full\"},\"axisTitlesVisibilitySettings\":{\"x\":false,\"yLeft\":true,\"yRight\":true},\"tickLabelsVisibilitySettings\":{\"x\":true,\"yLeft\":true,\"yRight\":true},\"labelsOrientation\":{\"x\":0,\"yLeft\":0,\"yRight\":0},\"gridlinesVisibilitySettings\":{\"x\":true,\"yLeft\":true,\"yRight\":true},\"preferredSeriesType\":\"line\",\"layers\":[{\"layerId\":\"8e8fcfdf-9235-488d-997e-401a053a445a\",\"accessors\":[\"befe8415-c2ee-4101-872b-2cb69b015c7f\",\"c8ee0a5b-e1cc-4a70-afcf-6e07ff33b8d0\",\"e969da11-8967-467c-a37e-b1e2d79e9912\",\"0282807d-86cd-487c-9535-c7c0bd518d28\"],\"position\":\"top\",\"seriesType\":\"line\",\"showGridlines\":false,\"layerType\":\"data\",\"xAccessor\":\"10915aa3-74cb-45fd-b099-c150263dbca8\",\"yConfig\":[{\"forAccessor\":\"c8ee0a5b-e1cc-4a70-afcf-6e07ff33b8d0\",\"color\":\"#fb0c0c\"},{\"forAccessor\":\"e969da11-8967-467c-a37e-b1e2d79e9912\",\"color\":\"#d39460\"}]}]},\"query\":{\"query\":\"\",\"language\":\"kuery\"},\"filters\":[],\"datasourceStates\":{\"indexpattern\":{\"layers\":{\"8e8fcfdf-9235-488d-997e-401a053a445a\":{\"columns\":{\"10915aa3-74cb-45fd-b099-c150263dbca8\":{\"label\":\"TimeStamp\",\"dataType\":\"date\",\"operationType\":\"date_histogram\",\"sourceField\":\"@timestamp\",\"isBucketed\":true,\"scale\":\"interval\",\"params\":{\"interval\":\"1m\"},\"customLabel\":true},\"0282807d-86cd-487c-9535-c7c0bd518d28X0\":{\"label\":\"Part of INFO\",\"dataType\":\"number\",\"operationType\":\"count\",\"isBucketed\":false,\"scale\":\"ratio\",\"sourceField\":\"Records\",\"filter\":{\"query\":\"hpcc.log.class : INF\",\"language\":\"kuery\"},\"customLabel\":true},\"0282807d-86cd-487c-9535-c7c0bd518d28\":{\"label\":\"INFO\",\"dataType\":\"number\",\"operationType\":\"formula\",\"isBucketed\":false,\"scale\":\"ratio\",\"params\":{\"formula\":\"count( kql='hpcc.log.class : INF')\",\"isFormulaBroken\":false,\"format\":{\"id\":\"number\",\"params\":{\"decimals\":0}}},\"references\":[\"0282807d-86cd-487c-9535-c7c0bd518d28X0\"],\"customLabel\":true},\"e969da11-8967-467c-a37e-b1e2d79e9912X0\":{\"label\":\"Part of Warnings\",\"dataType\":\"number\",\"operationType\":\"count\",\"isBucketed\":false,\"scale\":\"ratio\",\"sourceField\":\"Records\",\"filter\":{\"query\":\"hpcc.log.class : WRN\",\"language\":\"kuery\"},\"customLabel\":true},\"e969da11-8967-467c-a37e-b1e2d79e9912\":{\"label\":\"Warnings\",\"dataType\":\"number\",\"operationType\":\"formula\",\"isBucketed\":false,\"scale\":\"ratio\",\"params\":{\"formula\":\"count(kql='hpcc.log.class : WRN')\",\"isFormulaBroken\":false,\"format\":{\"id\":\"number\",\"params\":{\"decimals\":0}}},\"references\":[\"e969da11-8967-467c-a37e-b1e2d79e9912X0\"],\"customLabel\":true},\"c8ee0a5b-e1cc-4a70-afcf-6e07ff33b8d0X0\":{\"label\":\"Part of Errors\",\"dataType\":\"number\",\"operationType\":\"count\",\"isBucketed\":false,\"scale\":\"ratio\",\"sourceField\":\"Records\",\"filter\":{\"query\":\"hpcc.log.class : ERR\",\"language\":\"kuery\"},\"customLabel\":true},\"c8ee0a5b-e1cc-4a70-afcf-6e07ff33b8d0\":{\"label\":\"Errors\",\"dataType\":\"number\",\"operationType\":\"formula\",\"isBucketed\":false,\"scale\":\"ratio\",\"params\":{\"formula\":\"count(kql='hpcc.log.class : ERR')\",\"isFormulaBroken\":false,\"format\":{\"id\":\"number\",\"params\":{\"decimals\":0}}},\"references\":[\"c8ee0a5b-e1cc-4a70-afcf-6e07ff33b8d0X0\"],\"customLabel\":true},\"befe8415-c2ee-4101-872b-2cb69b015c7fX0\":{\"label\":\"Part of Progress\",\"dataType\":\"number\",\"operationType\":\"count\",\"isBucketed\":false,\"scale\":\"ratio\",\"sourceField\":\"Records\",\"filter\":{\"query\":\"hpcc.log.class : PRO\",\"language\":\"kuery\"},\"customLabel\":true},\"befe8415-c2ee-4101-872b-2cb69b015c7f\":{\"label\":\"Progress\",\"dataType\":\"number\",\"operationType\":\"formula\",\"isBucketed\":false,\"scale\":\"ratio\",\"params\":{\"formula\":\"count(kql='hpcc.log.class : PRO')\",\"isFormulaBroken\":false,\"format\":{\"id\":\"number\",\"params\":{\"decimals\":0}}},\"references\":[\"befe8415-c2ee-4101-872b-2cb69b015c7fX0\"],\"customLabel\":true}},\"columnOrder\":[\"10915aa3-74cb-45fd-b099-c150263dbca8\",\"befe8415-c2ee-4101-872b-2cb69b015c7f\",\"c8ee0a5b-e1cc-4a70-afcf-6e07ff33b8d0\",\"c8ee0a5b-e1cc-4a70-afcf-6e07ff33b8d0X0\",\"e969da11-8967-467c-a37e-b1e2d79e9912\",\"e969da11-8967-467c-a37e-b1e2d79e9912X0\",\"0282807d-86cd-487c-9535-c7c0bd518d28\",\"0282807d-86cd-487c-9535-c7c0bd518d28X0\",\"befe8415-c2ee-4101-872b-2cb69b015c7fX0\"],\"incompleteColumns\":{}}}}}}},\"enhancements\":{},\"hidePanelTitles\":false},\"title\":\"Log Entries By Type\"}]","timeRestore":false,"title":"HPCC Component Logs Overview","version":1},"coreMigrationVersion":"7.17.1","id":"bb1d48a0-3367-11ed-8894-1fb7605a7fdd","migrationVersion":{"dashboard":"7.17.0"},"references":[{"id":"hpcc-filebeat-pattern","name":"c52ed3ff-a646-4130-860b-ae79fd9ee057:indexpattern-datasource-current-indexpattern","type":"index-pattern"},{"id":"hpcc-filebeat-pattern","name":"c52ed3ff-a646-4130-860b-ae79fd9ee057:indexpattern-datasource-layer-6edb0009-67ce-421e-96d9-b11737ca985a","type":"index-pattern"},{"id":"hpcc-filebeat-pattern","name":"c52ed3ff-a646-4130-860b-ae79fd9ee057:filter-index-pattern-0","type":"index-pattern"},{"id":"hpcc-filebeat-pattern","name":"b3087bb4-48ac-41ca-bd7c-2b75f83cd45c:indexpattern-datasource-current-indexpattern","type":"index-pattern"},{"id":"hpcc-filebeat-pattern","name":"b3087bb4-48ac-41ca-bd7c-2b75f83cd45c:indexpattern-datasource-layer-6edb0009-67ce-421e-96d9-b11737ca985a","type":"index-pattern"},{"id":"hpcc-filebeat-pattern","name":"b3087bb4-48ac-41ca-bd7c-2b75f83cd45c:filter-index-pattern-0","type":"index-pattern"},{"id":"hpcc-filebeat-pattern","name":"51daf253-6e1d-4d7d-a4bd-292a0b146ca8:indexpattern-datasource-current-indexpattern","type":"index-pattern"},{"id":"hpcc-filebeat-pattern","name":"51daf253-6e1d-4d7d-a4bd-292a0b146ca8:indexpattern-datasource-layer-6edb0009-67ce-421e-96d9-b11737ca985a","type":"index-pattern"},{"id":"hpcc-filebeat-pattern","name":"51daf253-6e1d-4d7d-a4bd-292a0b146ca8:filter-index-pattern-0","type":"index-pattern"},{"id":"hpcc-filebeat-pattern","name":"9fd03ed0-ff0a-40ba-a4e5-1a6e9000953d:indexpattern-datasource-current-indexpattern","type":"index-pattern"},{"id":"hpcc-filebeat-pattern","name":"9fd03ed0-ff0a-40ba-a4e5-1a6e9000953d:indexpattern-datasource-layer-ba4c59f2-293a-416e-a389-91bde68fc388","type":"index-pattern"},{"id":"hpcc-filebeat-pattern","name":"9fd03ed0-ff0a-40ba-a4e5-1a6e9000953d:filter-index-pattern-0","type":"index-pattern"},{"id":"hpcc-filebeat-pattern","name":"dcdec923-c1e6-4631-b9ff-d8b477532f7b:indexpattern-datasource-current-indexpattern","type":"index-pattern"},{"id":"hpcc-filebeat-pattern","name":"dcdec923-c1e6-4631-b9ff-d8b477532f7b:indexpattern-datasource-layer-9a1a961f-1a41-41aa-8a82-98ec66eea836","type":"index-pattern"},{"id":"493a13a0-32ac-11ed-8894-1fb7605a7fdd","name":"dcdec923-c1e6-4631-b9ff-d8b477532f7b:drilldown:DASHBOARD_TO_DASHBOARD_DRILLDOWN:138b686f-4c4c-4462-bf80-4f12312734c1:dashboardId","type":"dashboard"},{"id":"hpcc-filebeat-pattern","name":"5a8a55f5-5f9c-4808-a6d9-5b90345d4728:indexpattern-datasource-current-indexpattern","type":"index-pattern"},{"id":"hpcc-filebeat-pattern","name":"5a8a55f5-5f9c-4808-a6d9-5b90345d4728:indexpattern-datasource-layer-cb3a7bc8-ccb0-4bd2-9386-4fc2d7efc741","type":"index-pattern"},{"id":"hpcc-filebeat-pattern","name":"5a8a55f5-5f9c-4808-a6d9-5b90345d4728:filter-index-pattern-0","type":"index-pattern"},{"id":"hpcc-filebeat-pattern","name":"3f1726d1-b635-41a0-a102-9880416e2f0b:indexpattern-datasource-current-indexpattern","type":"index-pattern"},{"id":"hpcc-filebeat-pattern","name":"3f1726d1-b635-41a0-a102-9880416e2f0b:indexpattern-datasource-layer-8e8fcfdf-9235-488d-997e-401a053a445a","type":"index-pattern"},{"id":"396afcf0-32ac-11ed-8894-1fb7605a7fdd","name":"tag-396afcf0-32ac-11ed-8894-1fb7605a7fdd","type":"tag"},{"id":"3303e390-32ac-11ed-8894-1fb7605a7fdd","name":"tag-3303e390-32ac-11ed-8894-1fb7605a7fdd","type":"tag"},{"id":"40dd6bd0-32ac-11ed-8894-1fb7605a7fdd","name":"tag-40dd6bd0-32ac-11ed-8894-1fb7605a7fdd","type":"tag"}],"type":"dashboard","updated_at":"2022-09-14T13:41:58.661Z","version":"WzQ5MzgsMl0="}
        {"attributes":{"fieldAttrs":"{\"hpcc.log.class\":{\"count\":1}}","fields":"[]","runtimeFieldMap":"{}","timeFieldName":"@timestamp","title":"hpcc-logs*","typeMeta":"{}"},"coreMigrationVersion":"7.17.1","id":"470ef8a3-8b6d-43e3-841a-10992c200a64","migrationVersion":{"index-pattern":"7.11.0"},"references":[],"type":"index-pattern","updated_at":"2022-09-14T13:43:08.620Z","version":"WzQ5NTEsMl0="}
        {"attributes":{"color":"#b42f6c","description":"","name":"HPCC Systems"},"coreMigrationVersion":"7.17.1","id":"86babe41-f69a-47bc-a68e-1e8f0a7fe713","references":[],"type":"tag","updated_at":"2022-09-14T13:43:08.620Z","version":"WzQ5NTIsMl0="}
        {"attributes":{"color":"#69e9a0","description":"","name":"HPCC"},"coreMigrationVersion":"7.17.1","id":"ba6a199a-d616-4676-a38a-518392aa80b1","references":[],"type":"tag","updated_at":"2022-09-14T13:43:08.620Z","version":"WzQ5NTMsMl0="}
        {"attributes":{"color":"#ad5be4","description":"","name":"LOGS"},"coreMigrationVersion":"7.17.1","id":"9ed79265-81e9-4dfe-bf41-bfcd9c4fd9fe","references":[],"type":"tag","updated_at":"2022-09-14T13:43:08.620Z","version":"WzQ5NTQsMl0="}
        {"attributes":{"color":"#7b69b6","description":"","name":"LogClass"},"coreMigrationVersion":"7.17.1","id":"539997c6-6b57-41d3-af77-c74e186aa25d","references":[],"type":"tag","updated_at":"2022-09-14T13:43:08.620Z","version":"WzQ5NTUsMl0="}
        {"attributes":{"description":"","state":{"datasourceStates":{"indexpattern":{"layers":{"dc72bcba-4f28-4ffb-acbe-360284ff51e0":{"columnOrder":["a340c0f0-9ec4-4f87-a776-868790fbd938","def47495-46ed-4c52-979a-6f8ee5a13af3"],"columns":{"a340c0f0-9ec4-4f87-a776-868790fbd938":{"customLabel":true,"dataType":"string","isBucketed":true,"label":"Log Type","operationType":"terms","params":{"missingBucket":false,"orderBy":{"columnId":"def47495-46ed-4c52-979a-6f8ee5a13af3","type":"column"},"orderDirection":"desc","otherBucket":true,"size":5},"scale":"ordinal","sourceField":"hpcc.log.class"},"def47495-46ed-4c52-979a-6f8ee5a13af3":{"dataType":"number","isBucketed":false,"label":"Count of records","operationType":"count","scale":"ratio","sourceField":"Records"}},"incompleteColumns":{}}}}},"filters":[],"query":{"language":"kuery","query":""},"visualization":{"columns":[{"columnId":"a340c0f0-9ec4-4f87-a776-868790fbd938"},{"columnId":"def47495-46ed-4c52-979a-6f8ee5a13af3","hidden":true}],"layerId":"dc72bcba-4f28-4ffb-acbe-360284ff51e0","layerType":"data"}},"title":"Log Records by Class","visualizationType":"lnsDatatable"},"coreMigrationVersion":"7.17.1","id":"36af9061-3341-4f61-9c81-50ccd34c4b3d","migrationVersion":{"lens":"7.16.0"},"references":[{"id":"470ef8a3-8b6d-43e3-841a-10992c200a64","name":"indexpattern-datasource-current-indexpattern","type":"index-pattern"},{"id":"470ef8a3-8b6d-43e3-841a-10992c200a64","name":"indexpattern-datasource-layer-dc72bcba-4f28-4ffb-acbe-360284ff51e0","type":"index-pattern"},{"id":"86babe41-f69a-47bc-a68e-1e8f0a7fe713","name":"tag-ref-396afcf0-32ac-11ed-8894-1fb7605a7fdd","type":"tag"},{"id":"ba6a199a-d616-4676-a38a-518392aa80b1","name":"tag-ref-3303e390-32ac-11ed-8894-1fb7605a7fdd","type":"tag"},{"id":"9ed79265-81e9-4dfe-bf41-bfcd9c4fd9fe","name":"tag-ref-40dd6bd0-32ac-11ed-8894-1fb7605a7fdd","type":"tag"},{"id":"539997c6-6b57-41d3-af77-c74e186aa25d","name":"tag-ref-c2598620-3384-11ed-8894-1fb7605a7fdd","type":"tag"}],"type":"lens","updated_at":"2022-09-14T13:43:08.620Z","version":"WzQ5NTYsMl0="}
        {"attributes":{"description":"","state":{"datasourceStates":{"indexpattern":{"layers":{"f6320d80-0af3-4352-aa61-d80b884d1523":{"columnOrder":["f578719b-56b2-47dd-b931-d4dfc4d8f251","073e6499-9b2e-407d-bfed-f222a5ac5ac2"],"columns":{"073e6499-9b2e-407d-bfed-f222a5ac5ac2":{"dataType":"number","isBucketed":false,"label":"Count of records","operationType":"count","scale":"ratio","sourceField":"Records"},"f578719b-56b2-47dd-b931-d4dfc4d8f251":{"customLabel":true,"dataType":"string","isBucketed":true,"label":"Target Audience","operationType":"terms","params":{"missingBucket":false,"orderBy":{"columnId":"073e6499-9b2e-407d-bfed-f222a5ac5ac2","type":"column"},"orderDirection":"desc","otherBucket":true,"size":6},"scale":"ordinal","sourceField":"hpcc.log.audience"}},"incompleteColumns":{}}}}},"filters":[],"query":{"language":"kuery","query":""},"visualization":{"columns":[{"columnId":"f578719b-56b2-47dd-b931-d4dfc4d8f251"},{"columnId":"073e6499-9b2e-407d-bfed-f222a5ac5ac2","hidden":true}],"layerId":"f6320d80-0af3-4352-aa61-d80b884d1523","layerType":"data"}},"title":"Log Records by Target Audience","visualizationType":"lnsDatatable"},"coreMigrationVersion":"7.17.1","id":"a0c5eadd-1215-4b1e-8cfd-1b8c9ba4c737","migrationVersion":{"lens":"7.16.0"},"references":[{"id":"470ef8a3-8b6d-43e3-841a-10992c200a64","name":"indexpattern-datasource-current-indexpattern","type":"index-pattern"},{"id":"470ef8a3-8b6d-43e3-841a-10992c200a64","name":"indexpattern-datasource-layer-f6320d80-0af3-4352-aa61-d80b884d1523","type":"index-pattern"}],"type":"lens","updated_at":"2022-09-14T13:43:08.620Z","version":"WzQ5NTcsMl0="}
        {"attributes":{"description":"Provides visual report of all HPCC Log Fields ideal for quick filter creation.","hits":0,"kibanaSavedObjectMeta":{"searchSourceJSON":"{\"query\":{\"query\":\"\",\"language\":\"kuery\"},\"filter\":[]}"},"optionsJSON":"{\"useMargins\":true,\"syncColors\":false,\"hidePanelTitles\":false}","panelsJSON":"[{\"version\":\"7.17.1\",\"type\":\"visualization\",\"gridData\":{\"x\":0,\"y\":0,\"w\":11,\"h\":32,\"i\":\"336c76ca-c7ad-48a8-94cb-46f98e5d30b6\"},\"panelIndex\":\"336c76ca-c7ad-48a8-94cb-46f98e5d30b6\",\"embeddableConfig\":{\"savedVis\":{\"id\":\"\",\"title\":\"\",\"description\":\"\",\"type\":\"input_control_vis\",\"params\":{\"controls\":[{\"id\":\"1663106701727\",\"fieldName\":\"hpcc.log.class\",\"parent\":\"\",\"label\":\"Log Type\",\"type\":\"list\",\"options\":{\"type\":\"terms\",\"multiselect\":true,\"dynamicOptions\":true,\"size\":5,\"order\":\"desc\"},\"indexPatternRefName\":\"control_336c76ca-c7ad-48a8-94cb-46f98e5d30b6_0_index_pattern\"},{\"id\":\"1663106584494\",\"fieldName\":\"kubernetes.container.name\",\"parent\":\"\",\"label\":\"Component\",\"type\":\"list\",\"options\":{\"type\":\"terms\",\"multiselect\":true,\"dynamicOptions\":true,\"size\":5,\"order\":\"desc\"},\"indexPatternRefName\":\"control_336c76ca-c7ad-48a8-94cb-46f98e5d30b6_1_index_pattern\"},{\"id\":\"1663106619159\",\"fieldName\":\"kubernetes.pod.name\",\"parent\":\"\",\"label\":\"Pod\",\"type\":\"list\",\"options\":{\"type\":\"terms\",\"multiselect\":false,\"dynamicOptions\":true,\"size\":5,\"order\":\"desc\"},\"indexPatternRefName\":\"control_336c76ca-c7ad-48a8-94cb-46f98e5d30b6_2_index_pattern\"},{\"id\":\"1663106765959\",\"fieldName\":\"hpcc.log.jobid\",\"parent\":\"\",\"label\":\"Workunit ID\",\"type\":\"list\",\"options\":{\"type\":\"terms\",\"multiselect\":true,\"dynamicOptions\":true,\"size\":5,\"order\":\"desc\"},\"indexPatternRefName\":\"control_336c76ca-c7ad-48a8-94cb-46f98e5d30b6_3_index_pattern\"},{\"id\":\"1663106798000\",\"fieldName\":\"hpcc.log.timestamp\",\"parent\":\"\",\"label\":\"Log Timestamp\",\"type\":\"list\",\"options\":{\"type\":\"terms\",\"multiselect\":false,\"dynamicOptions\":true,\"size\":5,\"order\":\"desc\"},\"indexPatternRefName\":\"control_336c76ca-c7ad-48a8-94cb-46f98e5d30b6_4_index_pattern\"},{\"id\":\"1663114516703\",\"fieldName\":\"hpcc.log.message\",\"parent\":\"\",\"label\":\"Message\",\"type\":\"list\",\"options\":{\"type\":\"terms\",\"multiselect\":false,\"dynamicOptions\":true,\"size\":5,\"order\":\"desc\"},\"indexPatternRefName\":\"control_336c76ca-c7ad-48a8-94cb-46f98e5d30b6_5_index_pattern\"},{\"id\":\"1663106735024\",\"fieldName\":\"hpcc.log.audience\",\"parent\":\"\",\"label\":\"Target Audience\",\"type\":\"list\",\"options\":{\"type\":\"terms\",\"multiselect\":true,\"dynamicOptions\":true,\"size\":5,\"order\":\"desc\"},\"indexPatternRefName\":\"control_336c76ca-c7ad-48a8-94cb-46f98e5d30b6_6_index_pattern\"},{\"id\":\"1663106836520\",\"fieldName\":\"hpcc.log.sequence\",\"parent\":\"\",\"label\":\"Log ID\",\"type\":\"list\",\"options\":{\"type\":\"terms\",\"multiselect\":false,\"dynamicOptions\":true,\"size\":5,\"order\":\"desc\"},\"indexPatternRefName\":\"control_336c76ca-c7ad-48a8-94cb-46f98e5d30b6_7_index_pattern\"},{\"id\":\"1663114559023\",\"fieldName\":\"hpcc.log.threadid\",\"parent\":\"\",\"label\":\"Thread ID\",\"type\":\"list\",\"options\":{\"type\":\"terms\",\"multiselect\":false,\"dynamicOptions\":true,\"size\":5,\"order\":\"desc\"},\"indexPatternRefName\":\"control_336c76ca-c7ad-48a8-94cb-46f98e5d30b6_8_index_pattern\"},{\"id\":\"1663114582903\",\"fieldName\":\"hpcc.log.procid\",\"parent\":\"\",\"label\":\"Process ID\",\"type\":\"list\",\"options\":{\"type\":\"terms\",\"multiselect\":false,\"dynamicOptions\":true,\"size\":5,\"order\":\"desc\"},\"indexPatternRefName\":\"control_336c76ca-c7ad-48a8-94cb-46f98e5d30b6_9_index_pattern\"}],\"updateFiltersOnChange\":false,\"useTimeFilter\":false,\"pinFilters\":false},\"uiState\":{},\"data\":{\"aggs\":[],\"searchSource\":{\"query\":{\"query\":\"\",\"language\":\"kuery\"},\"filter\":[]}}},\"hidePanelTitles\":false,\"enhancements\":{}},\"title\":\"HPCC Log Filter By\"},{\"version\":\"7.17.1\",\"type\":\"lens\",\"gridData\":{\"x\":11,\"y\":0,\"w\":9,\"h\":12,\"i\":\"cb759a22-e7f0-45cd-b1e6-0d7dda02eceb\"},\"panelIndex\":\"cb759a22-e7f0-45cd-b1e6-0d7dda02eceb\",\"embeddableConfig\":{\"attributes\":{\"title\":\"\",\"visualizationType\":\"lnsDatatable\",\"type\":\"lens\",\"references\":[{\"id\":\"470ef8a3-8b6d-43e3-841a-10992c200a64\",\"name\":\"indexpattern-datasource-current-indexpattern\",\"type\":\"index-pattern\"},{\"id\":\"470ef8a3-8b6d-43e3-841a-10992c200a64\",\"name\":\"indexpattern-datasource-layer-fcfed737-d14b-471a-b670-6ebaf3e630a8\",\"type\":\"index-pattern\"}],\"state\":{\"visualization\":{\"layerId\":\"fcfed737-d14b-471a-b670-6ebaf3e630a8\",\"layerType\":\"data\",\"columns\":[{\"columnId\":\"2966e51e-54fc-482f-a301-df8f319bf2fc\"},{\"columnId\":\"6755a510-2bc9-4e4e-a953-35ea56097790\",\"hidden\":true}]},\"query\":{\"query\":\"\",\"language\":\"kuery\"},\"filters\":[],\"datasourceStates\":{\"indexpattern\":{\"layers\":{\"fcfed737-d14b-471a-b670-6ebaf3e630a8\":{\"columns\":{\"2966e51e-54fc-482f-a301-df8f319bf2fc\":{\"label\":\"Date/Time Stamp\",\"dataType\":\"string\",\"operationType\":\"terms\",\"scale\":\"ordinal\",\"sourceField\":\"hpcc.log.timestamp\",\"isBucketed\":true,\"params\":{\"size\":10,\"orderBy\":{\"type\":\"alphabetical\",\"fallback\":true},\"orderDirection\":\"asc\",\"otherBucket\":true,\"missingBucket\":false},\"customLabel\":true},\"6755a510-2bc9-4e4e-a953-35ea56097790\":{\"label\":\"Last value of hpcc.log.timestamp\",\"dataType\":\"string\",\"operationType\":\"last_value\",\"isBucketed\":false,\"scale\":\"ordinal\",\"sourceField\":\"hpcc.log.timestamp\",\"params\":{\"sortField\":\"@timestamp\"}}},\"columnOrder\":[\"2966e51e-54fc-482f-a301-df8f319bf2fc\",\"6755a510-2bc9-4e4e-a953-35ea56097790\"],\"incompleteColumns\":{}}}}}}},\"hidePanelTitles\":true,\"enhancements\":{}}},{\"version\":\"7.17.1\",\"type\":\"lens\",\"gridData\":{\"x\":20,\"y\":0,\"w\":28,\"h\":12,\"i\":\"9d3387a9-543c-4f92-a762-19c6c246fb9b\"},\"panelIndex\":\"9d3387a9-543c-4f92-a762-19c6c246fb9b\",\"embeddableConfig\":{\"attributes\":{\"title\":\"\",\"visualizationType\":\"lnsDatatable\",\"type\":\"lens\",\"references\":[{\"id\":\"470ef8a3-8b6d-43e3-841a-10992c200a64\",\"name\":\"indexpattern-datasource-current-indexpattern\",\"type\":\"index-pattern\"},{\"id\":\"470ef8a3-8b6d-43e3-841a-10992c200a64\",\"name\":\"indexpattern-datasource-layer-869eb29c-9d33-4920-a93c-ba0e55b9af51\",\"type\":\"index-pattern\"}],\"state\":{\"visualization\":{\"layerId\":\"869eb29c-9d33-4920-a93c-ba0e55b9af51\",\"layerType\":\"data\",\"columns\":[{\"columnId\":\"060bddad-7de6-4e5c-b00f-403a6f716297\"},{\"columnId\":\"3513f632-1dc3-4873-9624-e833aa10c974\",\"hidden\":true}]},\"query\":{\"query\":\"\",\"language\":\"kuery\"},\"filters\":[],\"datasourceStates\":{\"indexpattern\":{\"layers\":{\"869eb29c-9d33-4920-a93c-ba0e55b9af51\":{\"columns\":{\"060bddad-7de6-4e5c-b00f-403a6f716297\":{\"label\":\"HPCC Log Message\",\"dataType\":\"string\",\"operationType\":\"terms\",\"scale\":\"ordinal\",\"sourceField\":\"hpcc.log.message\",\"isBucketed\":true,\"params\":{\"size\":15,\"orderBy\":{\"type\":\"column\",\"columnId\":\"3513f632-1dc3-4873-9624-e833aa10c974\"},\"orderDirection\":\"desc\",\"otherBucket\":true,\"missingBucket\":false},\"customLabel\":true},\"3513f632-1dc3-4873-9624-e833aa10c974\":{\"label\":\"Unique count of hpcc.log.message\",\"dataType\":\"number\",\"operationType\":\"unique_count\",\"scale\":\"ratio\",\"sourceField\":\"hpcc.log.message\",\"isBucketed\":false}},\"columnOrder\":[\"060bddad-7de6-4e5c-b00f-403a6f716297\",\"3513f632-1dc3-4873-9624-e833aa10c974\"],\"incompleteColumns\":{}}}}}}},\"hidePanelTitles\":true,\"enhancements\":{}},\"title\":\"Log Message\"},{\"version\":\"7.17.1\",\"type\":\"lens\",\"gridData\":{\"x\":11,\"y\":12,\"w\":8,\"h\":10,\"i\":\"bcd1ea33-4b02-4938-a2e1-9739a1fac8f1\"},\"panelIndex\":\"bcd1ea33-4b02-4938-a2e1-9739a1fac8f1\",\"embeddableConfig\":{\"enhancements\":{},\"hidePanelTitles\":true},\"panelRefName\":\"panel_bcd1ea33-4b02-4938-a2e1-9739a1fac8f1\"},{\"version\":\"7.17.1\",\"type\":\"lens\",\"gridData\":{\"x\":19,\"y\":12,\"w\":11,\"h\":10,\"i\":\"54cfac3a-1082-486f-923a-ece2c73daf08\"},\"panelIndex\":\"54cfac3a-1082-486f-923a-ece2c73daf08\",\"embeddableConfig\":{\"attributes\":{\"title\":\"\",\"visualizationType\":\"lnsDatatable\",\"type\":\"lens\",\"references\":[{\"id\":\"470ef8a3-8b6d-43e3-841a-10992c200a64\",\"name\":\"indexpattern-datasource-current-indexpattern\",\"type\":\"index-pattern\"},{\"id\":\"470ef8a3-8b6d-43e3-841a-10992c200a64\",\"name\":\"indexpattern-datasource-layer-2f9cd932-d3a7-4320-bc35-81440f684590\",\"type\":\"index-pattern\"},{\"id\":\"470ef8a3-8b6d-43e3-841a-10992c200a64\",\"name\":\"filter-index-pattern-0\",\"type\":\"index-pattern\"}],\"state\":{\"visualization\":{\"layerId\":\"2f9cd932-d3a7-4320-bc35-81440f684590\",\"layerType\":\"data\",\"columns\":[{\"columnId\":\"af5eea04-9b1e-4e1d-ac12-ef563b92b914\"},{\"columnId\":\"a433c068-08e3-49e7-a9de-0311f1e53cbf\",\"hidden\":true}]},\"query\":{\"query\":\"\",\"language\":\"kuery\"},\"filters\":[{\"meta\":{\"alias\":null,\"negate\":true,\"disabled\":false,\"type\":\"phrase\",\"key\":\"hpcc.log.jobid\",\"params\":{\"query\":\"UNK\"},\"indexRefName\":\"filter-index-pattern-0\"},\"query\":{\"match_phrase\":{\"hpcc.log.jobid\":\"UNK\"}},\"$state\":{\"store\":\"appState\"}}],\"datasourceStates\":{\"indexpattern\":{\"layers\":{\"2f9cd932-d3a7-4320-bc35-81440f684590\":{\"columns\":{\"af5eea04-9b1e-4e1d-ac12-ef563b92b914\":{\"label\":\"Workunit ID\",\"dataType\":\"string\",\"operationType\":\"terms\",\"scale\":\"ordinal\",\"sourceField\":\"hpcc.log.jobid\",\"isBucketed\":true,\"params\":{\"size\":10,\"orderBy\":{\"type\":\"column\",\"columnId\":\"a433c068-08e3-49e7-a9de-0311f1e53cbf\"},\"orderDirection\":\"desc\",\"otherBucket\":true,\"missingBucket\":false},\"customLabel\":true},\"a433c068-08e3-49e7-a9de-0311f1e53cbf\":{\"label\":\"Count of records\",\"dataType\":\"number\",\"operationType\":\"count\",\"isBucketed\":false,\"scale\":\"ratio\",\"sourceField\":\"Records\"}},\"columnOrder\":[\"af5eea04-9b1e-4e1d-ac12-ef563b92b914\",\"a433c068-08e3-49e7-a9de-0311f1e53cbf\"],\"incompleteColumns\":{}}}}}}},\"hidePanelTitles\":true,\"enhancements\":{}},\"title\":\"JobID\"},{\"version\":\"7.17.1\",\"type\":\"lens\",\"gridData\":{\"x\":30,\"y\":12,\"w\":8,\"h\":10,\"i\":\"26d768a0-d3e7-4819-add7-5551f6497a8d\"},\"panelIndex\":\"26d768a0-d3e7-4819-add7-5551f6497a8d\",\"embeddableConfig\":{\"attributes\":{\"title\":\"\",\"visualizationType\":\"lnsDatatable\",\"type\":\"lens\",\"references\":[{\"id\":\"470ef8a3-8b6d-43e3-841a-10992c200a64\",\"name\":\"indexpattern-datasource-current-indexpattern\",\"type\":\"index-pattern\"},{\"id\":\"470ef8a3-8b6d-43e3-841a-10992c200a64\",\"name\":\"indexpattern-datasource-layer-ef1aa675-0910-4647-b495-8ffacc119ee9\",\"type\":\"index-pattern\"}],\"state\":{\"visualization\":{\"layerId\":\"ef1aa675-0910-4647-b495-8ffacc119ee9\",\"layerType\":\"data\",\"columns\":[{\"columnId\":\"2bcb095a-8641-44d3-b5d4-dd936f2ec4ff\"},{\"columnId\":\"9a8affdb-b36f-450f-9113-2c6913d763cb\",\"hidden\":true}]},\"query\":{\"query\":\"\",\"language\":\"kuery\"},\"filters\":[],\"datasourceStates\":{\"indexpattern\":{\"layers\":{\"ef1aa675-0910-4647-b495-8ffacc119ee9\":{\"columns\":{\"2bcb095a-8641-44d3-b5d4-dd936f2ec4ff\":{\"label\":\"Component Name\",\"dataType\":\"string\",\"operationType\":\"terms\",\"scale\":\"ordinal\",\"sourceField\":\"kubernetes.container.name\",\"isBucketed\":true,\"params\":{\"size\":20,\"orderBy\":{\"type\":\"column\",\"columnId\":\"9a8affdb-b36f-450f-9113-2c6913d763cb\"},\"orderDirection\":\"desc\",\"otherBucket\":true,\"missingBucket\":false},\"customLabel\":true},\"9a8affdb-b36f-450f-9113-2c6913d763cb\":{\"label\":\"Count of records\",\"dataType\":\"number\",\"operationType\":\"count\",\"isBucketed\":false,\"scale\":\"ratio\",\"sourceField\":\"Records\"}},\"columnOrder\":[\"2bcb095a-8641-44d3-b5d4-dd936f2ec4ff\",\"9a8affdb-b36f-450f-9113-2c6913d763cb\"],\"incompleteColumns\":{}}}}}}},\"hidePanelTitles\":true,\"enhancements\":{}},\"title\":\"By Component\"},{\"version\":\"7.17.1\",\"type\":\"lens\",\"gridData\":{\"x\":38,\"y\":12,\"w\":10,\"h\":10,\"i\":\"40cb0a32-717a-48f5-b274-585406005d6b\"},\"panelIndex\":\"40cb0a32-717a-48f5-b274-585406005d6b\",\"embeddableConfig\":{\"attributes\":{\"title\":\"\",\"visualizationType\":\"lnsDatatable\",\"type\":\"lens\",\"references\":[{\"id\":\"470ef8a3-8b6d-43e3-841a-10992c200a64\",\"name\":\"indexpattern-datasource-current-indexpattern\",\"type\":\"index-pattern\"},{\"id\":\"470ef8a3-8b6d-43e3-841a-10992c200a64\",\"name\":\"indexpattern-datasource-layer-33ff993f-e390-4c2e-b75e-91f2dd6e2e48\",\"type\":\"index-pattern\"}],\"state\":{\"visualization\":{\"layerId\":\"33ff993f-e390-4c2e-b75e-91f2dd6e2e48\",\"layerType\":\"data\",\"columns\":[{\"columnId\":\"4048d7da-f0b8-4b41-98b3-6ea4235c54d6\"},{\"columnId\":\"e0c94ad2-ac39-46ec-a0d0-93d18619cdc9\",\"hidden\":true}]},\"query\":{\"query\":\"\",\"language\":\"kuery\"},\"filters\":[],\"datasourceStates\":{\"indexpattern\":{\"layers\":{\"33ff993f-e390-4c2e-b75e-91f2dd6e2e48\":{\"columns\":{\"4048d7da-f0b8-4b41-98b3-6ea4235c54d6\":{\"label\":\"Pod Name\",\"dataType\":\"string\",\"operationType\":\"terms\",\"scale\":\"ordinal\",\"sourceField\":\"kubernetes.pod.name\",\"isBucketed\":true,\"params\":{\"size\":20,\"orderBy\":{\"type\":\"alphabetical\",\"fallback\":false},\"orderDirection\":\"asc\",\"otherBucket\":true,\"missingBucket\":false},\"customLabel\":true},\"e0c94ad2-ac39-46ec-a0d0-93d18619cdc9\":{\"label\":\"Count of records\",\"dataType\":\"number\",\"operationType\":\"count\",\"isBucketed\":false,\"scale\":\"ratio\",\"sourceField\":\"Records\"}},\"columnOrder\":[\"4048d7da-f0b8-4b41-98b3-6ea4235c54d6\",\"e0c94ad2-ac39-46ec-a0d0-93d18619cdc9\"],\"incompleteColumns\":{}}}}}}},\"hidePanelTitles\":true,\"enhancements\":{}},\"title\":\"Pod Name\"},{\"version\":\"7.17.1\",\"type\":\"lens\",\"gridData\":{\"x\":11,\"y\":22,\"w\":8,\"h\":10,\"i\":\"ab58c138-83ac-4561-a69d-1a06d7e17e4f\"},\"panelIndex\":\"ab58c138-83ac-4561-a69d-1a06d7e17e4f\",\"embeddableConfig\":{\"enhancements\":{},\"hidePanelTitles\":true},\"title\":\"Target Audience\",\"panelRefName\":\"panel_ab58c138-83ac-4561-a69d-1a06d7e17e4f\"},{\"version\":\"7.17.1\",\"type\":\"lens\",\"gridData\":{\"x\":19,\"y\":22,\"w\":11,\"h\":10,\"i\":\"3488703f-f120-4857-b231-c1023e9e27b3\"},\"panelIndex\":\"3488703f-f120-4857-b231-c1023e9e27b3\",\"embeddableConfig\":{\"attributes\":{\"title\":\"\",\"visualizationType\":\"lnsDatatable\",\"type\":\"lens\",\"references\":[{\"id\":\"470ef8a3-8b6d-43e3-841a-10992c200a64\",\"name\":\"indexpattern-datasource-current-indexpattern\",\"type\":\"index-pattern\"},{\"id\":\"470ef8a3-8b6d-43e3-841a-10992c200a64\",\"name\":\"indexpattern-datasource-layer-3db541ed-4136-4747-a56b-c2d25307f28f\",\"type\":\"index-pattern\"}],\"state\":{\"visualization\":{\"layerId\":\"3db541ed-4136-4747-a56b-c2d25307f28f\",\"layerType\":\"data\",\"columns\":[{\"columnId\":\"421d000c-8ae9-4e84-be28-81f0660b3a2c\"},{\"columnId\":\"d71a45b0-6bce-49fb-8f57-038f2a9b157c\",\"hidden\":true}]},\"query\":{\"query\":\"\",\"language\":\"kuery\"},\"filters\":[],\"datasourceStates\":{\"indexpattern\":{\"layers\":{\"3db541ed-4136-4747-a56b-c2d25307f28f\":{\"columns\":{\"421d000c-8ae9-4e84-be28-81f0660b3a2c\":{\"label\":\"Thread ID\",\"dataType\":\"string\",\"operationType\":\"terms\",\"scale\":\"ordinal\",\"sourceField\":\"hpcc.log.threadid\",\"isBucketed\":true,\"params\":{\"size\":10,\"orderBy\":{\"type\":\"column\",\"columnId\":\"d71a45b0-6bce-49fb-8f57-038f2a9b157c\"},\"orderDirection\":\"desc\",\"otherBucket\":true,\"missingBucket\":false},\"customLabel\":true},\"d71a45b0-6bce-49fb-8f57-038f2a9b157c\":{\"label\":\"Count of records\",\"dataType\":\"number\",\"operationType\":\"count\",\"isBucketed\":false,\"scale\":\"ratio\",\"sourceField\":\"Records\"}},\"columnOrder\":[\"421d000c-8ae9-4e84-be28-81f0660b3a2c\",\"d71a45b0-6bce-49fb-8f57-038f2a9b157c\"],\"incompleteColumns\":{}}}}}}},\"hidePanelTitles\":true,\"enhancements\":{}}},{\"version\":\"7.17.1\",\"type\":\"lens\",\"gridData\":{\"x\":30,\"y\":22,\"w\":8,\"h\":10,\"i\":\"25fd2f00-4c05-40e2-80f1-7475e665bb92\"},\"panelIndex\":\"25fd2f00-4c05-40e2-80f1-7475e665bb92\",\"embeddableConfig\":{\"attributes\":{\"title\":\"\",\"visualizationType\":\"lnsDatatable\",\"type\":\"lens\",\"references\":[{\"id\":\"470ef8a3-8b6d-43e3-841a-10992c200a64\",\"name\":\"indexpattern-datasource-current-indexpattern\",\"type\":\"index-pattern\"},{\"id\":\"470ef8a3-8b6d-43e3-841a-10992c200a64\",\"name\":\"indexpattern-datasource-layer-b3e29ade-9a9d-4a6b-a6fd-828ab6c9e27a\",\"type\":\"index-pattern\"}],\"state\":{\"visualization\":{\"layerId\":\"b3e29ade-9a9d-4a6b-a6fd-828ab6c9e27a\",\"layerType\":\"data\",\"columns\":[{\"columnId\":\"f8526a08-bb69-458e-8452-629d0993af43\"},{\"columnId\":\"7562fcd3-315a-4907-968a-09726c5267f4\",\"hidden\":true}]},\"query\":{\"query\":\"\",\"language\":\"kuery\"},\"filters\":[],\"datasourceStates\":{\"indexpattern\":{\"layers\":{\"b3e29ade-9a9d-4a6b-a6fd-828ab6c9e27a\":{\"columns\":{\"f8526a08-bb69-458e-8452-629d0993af43\":{\"label\":\"Log Record ID\",\"dataType\":\"string\",\"operationType\":\"terms\",\"scale\":\"ordinal\",\"sourceField\":\"hpcc.log.sequence\",\"isBucketed\":true,\"params\":{\"size\":10,\"orderBy\":{\"type\":\"column\",\"columnId\":\"7562fcd3-315a-4907-968a-09726c5267f4\"},\"orderDirection\":\"desc\",\"otherBucket\":true,\"missingBucket\":false},\"customLabel\":true},\"7562fcd3-315a-4907-968a-09726c5267f4\":{\"label\":\"Count of records\",\"dataType\":\"number\",\"operationType\":\"count\",\"isBucketed\":false,\"scale\":\"ratio\",\"sourceField\":\"Records\"}},\"columnOrder\":[\"f8526a08-bb69-458e-8452-629d0993af43\",\"7562fcd3-315a-4907-968a-09726c5267f4\"],\"incompleteColumns\":{}}}}}}},\"hidePanelTitles\":true,\"enhancements\":{}}},{\"version\":\"7.17.1\",\"type\":\"lens\",\"gridData\":{\"x\":38,\"y\":22,\"w\":10,\"h\":10,\"i\":\"5dc2ad7f-baac-4998-b086-2bb4d6ba752e\"},\"panelIndex\":\"5dc2ad7f-baac-4998-b086-2bb4d6ba752e\",\"embeddableConfig\":{\"attributes\":{\"title\":\"\",\"visualizationType\":\"lnsDatatable\",\"type\":\"lens\",\"references\":[{\"id\":\"470ef8a3-8b6d-43e3-841a-10992c200a64\",\"name\":\"indexpattern-datasource-current-indexpattern\",\"type\":\"index-pattern\"},{\"id\":\"470ef8a3-8b6d-43e3-841a-10992c200a64\",\"name\":\"indexpattern-datasource-layer-b473dd6e-bbd5-4b04-bc95-7562204949a5\",\"type\":\"index-pattern\"}],\"state\":{\"visualization\":{\"layerId\":\"b473dd6e-bbd5-4b04-bc95-7562204949a5\",\"layerType\":\"data\",\"columns\":[{\"columnId\":\"a7a89cb6-e17f-43dd-be69-ba0bf3961742\"},{\"columnId\":\"249e5d6e-3622-4472-bc6d-e807a196c26e\",\"hidden\":true}]},\"query\":{\"query\":\"\",\"language\":\"kuery\"},\"filters\":[],\"datasourceStates\":{\"indexpattern\":{\"layers\":{\"b473dd6e-bbd5-4b04-bc95-7562204949a5\":{\"columns\":{\"a7a89cb6-e17f-43dd-be69-ba0bf3961742\":{\"label\":\"Process ID\",\"dataType\":\"string\",\"operationType\":\"terms\",\"scale\":\"ordinal\",\"sourceField\":\"hpcc.log.procid\",\"isBucketed\":true,\"params\":{\"size\":10,\"orderBy\":{\"type\":\"column\",\"columnId\":\"249e5d6e-3622-4472-bc6d-e807a196c26e\"},\"orderDirection\":\"desc\",\"otherBucket\":true,\"missingBucket\":false},\"customLabel\":true},\"249e5d6e-3622-4472-bc6d-e807a196c26e\":{\"label\":\"Count of records\",\"dataType\":\"number\",\"operationType\":\"count\",\"isBucketed\":false,\"scale\":\"ratio\",\"sourceField\":\"Records\"}},\"columnOrder\":[\"a7a89cb6-e17f-43dd-be69-ba0bf3961742\",\"249e5d6e-3622-4472-bc6d-e807a196c26e\"],\"incompleteColumns\":{}}}}}}},\"hidePanelTitles\":true,\"enhancements\":{}}}]","timeRestore":false,"title":"Filterable HPCC Log Dashboard","version":1},"coreMigrationVersion":"7.17.1","id":"078ab0e5-6aa3-4d16-80de-06f20edb385d","migrationVersion":{"dashboard":"7.17.0"},"references":[{"id":"470ef8a3-8b6d-43e3-841a-10992c200a64","name":"336c76ca-c7ad-48a8-94cb-46f98e5d30b6:control_336c76ca-c7ad-48a8-94cb-46f98e5d30b6_0_index_pattern","type":"index-pattern"},{"id":"470ef8a3-8b6d-43e3-841a-10992c200a64","name":"336c76ca-c7ad-48a8-94cb-46f98e5d30b6:control_336c76ca-c7ad-48a8-94cb-46f98e5d30b6_1_index_pattern","type":"index-pattern"},{"id":"470ef8a3-8b6d-43e3-841a-10992c200a64","name":"336c76ca-c7ad-48a8-94cb-46f98e5d30b6:control_336c76ca-c7ad-48a8-94cb-46f98e5d30b6_2_index_pattern","type":"index-pattern"},{"id":"470ef8a3-8b6d-43e3-841a-10992c200a64","name":"336c76ca-c7ad-48a8-94cb-46f98e5d30b6:control_336c76ca-c7ad-48a8-94cb-46f98e5d30b6_3_index_pattern","type":"index-pattern"},{"id":"470ef8a3-8b6d-43e3-841a-10992c200a64","name":"336c76ca-c7ad-48a8-94cb-46f98e5d30b6:control_336c76ca-c7ad-48a8-94cb-46f98e5d30b6_4_index_pattern","type":"index-pattern"},{"id":"470ef8a3-8b6d-43e3-841a-10992c200a64","name":"336c76ca-c7ad-48a8-94cb-46f98e5d30b6:control_336c76ca-c7ad-48a8-94cb-46f98e5d30b6_5_index_pattern","type":"index-pattern"},{"id":"470ef8a3-8b6d-43e3-841a-10992c200a64","name":"336c76ca-c7ad-48a8-94cb-46f98e5d30b6:control_336c76ca-c7ad-48a8-94cb-46f98e5d30b6_6_index_pattern","type":"index-pattern"},{"id":"470ef8a3-8b6d-43e3-841a-10992c200a64","name":"336c76ca-c7ad-48a8-94cb-46f98e5d30b6:control_336c76ca-c7ad-48a8-94cb-46f98e5d30b6_7_index_pattern","type":"index-pattern"},{"id":"470ef8a3-8b6d-43e3-841a-10992c200a64","name":"336c76ca-c7ad-48a8-94cb-46f98e5d30b6:control_336c76ca-c7ad-48a8-94cb-46f98e5d30b6_8_index_pattern","type":"index-pattern"},{"id":"470ef8a3-8b6d-43e3-841a-10992c200a64","name":"336c76ca-c7ad-48a8-94cb-46f98e5d30b6:control_336c76ca-c7ad-48a8-94cb-46f98e5d30b6_9_index_pattern","type":"index-pattern"},{"id":"470ef8a3-8b6d-43e3-841a-10992c200a64","name":"cb759a22-e7f0-45cd-b1e6-0d7dda02eceb:indexpattern-datasource-current-indexpattern","type":"index-pattern"},{"id":"470ef8a3-8b6d-43e3-841a-10992c200a64","name":"cb759a22-e7f0-45cd-b1e6-0d7dda02eceb:indexpattern-datasource-layer-fcfed737-d14b-471a-b670-6ebaf3e630a8","type":"index-pattern"},{"id":"470ef8a3-8b6d-43e3-841a-10992c200a64","name":"9d3387a9-543c-4f92-a762-19c6c246fb9b:indexpattern-datasource-current-indexpattern","type":"index-pattern"},{"id":"470ef8a3-8b6d-43e3-841a-10992c200a64","name":"9d3387a9-543c-4f92-a762-19c6c246fb9b:indexpattern-datasource-layer-869eb29c-9d33-4920-a93c-ba0e55b9af51","type":"index-pattern"},{"id":"36af9061-3341-4f61-9c81-50ccd34c4b3d","name":"bcd1ea33-4b02-4938-a2e1-9739a1fac8f1:panel_bcd1ea33-4b02-4938-a2e1-9739a1fac8f1","type":"lens"},{"id":"470ef8a3-8b6d-43e3-841a-10992c200a64","name":"54cfac3a-1082-486f-923a-ece2c73daf08:indexpattern-datasource-current-indexpattern","type":"index-pattern"},{"id":"470ef8a3-8b6d-43e3-841a-10992c200a64","name":"54cfac3a-1082-486f-923a-ece2c73daf08:indexpattern-datasource-layer-2f9cd932-d3a7-4320-bc35-81440f684590","type":"index-pattern"},{"id":"470ef8a3-8b6d-43e3-841a-10992c200a64","name":"54cfac3a-1082-486f-923a-ece2c73daf08:filter-index-pattern-0","type":"index-pattern"},{"id":"470ef8a3-8b6d-43e3-841a-10992c200a64","name":"26d768a0-d3e7-4819-add7-5551f6497a8d:indexpattern-datasource-current-indexpattern","type":"index-pattern"},{"id":"470ef8a3-8b6d-43e3-841a-10992c200a64","name":"26d768a0-d3e7-4819-add7-5551f6497a8d:indexpattern-datasource-layer-ef1aa675-0910-4647-b495-8ffacc119ee9","type":"index-pattern"},{"id":"470ef8a3-8b6d-43e3-841a-10992c200a64","name":"40cb0a32-717a-48f5-b274-585406005d6b:indexpattern-datasource-current-indexpattern","type":"index-pattern"},{"id":"470ef8a3-8b6d-43e3-841a-10992c200a64","name":"40cb0a32-717a-48f5-b274-585406005d6b:indexpattern-datasource-layer-33ff993f-e390-4c2e-b75e-91f2dd6e2e48","type":"index-pattern"},{"id":"a0c5eadd-1215-4b1e-8cfd-1b8c9ba4c737","name":"ab58c138-83ac-4561-a69d-1a06d7e17e4f:panel_ab58c138-83ac-4561-a69d-1a06d7e17e4f","type":"lens"},{"id":"470ef8a3-8b6d-43e3-841a-10992c200a64","name":"3488703f-f120-4857-b231-c1023e9e27b3:indexpattern-datasource-current-indexpattern","type":"index-pattern"},{"id":"470ef8a3-8b6d-43e3-841a-10992c200a64","name":"3488703f-f120-4857-b231-c1023e9e27b3:indexpattern-datasource-layer-3db541ed-4136-4747-a56b-c2d25307f28f","type":"index-pattern"},{"id":"470ef8a3-8b6d-43e3-841a-10992c200a64","name":"25fd2f00-4c05-40e2-80f1-7475e665bb92:indexpattern-datasource-current-indexpattern","type":"index-pattern"},{"id":"470ef8a3-8b6d-43e3-841a-10992c200a64","name":"25fd2f00-4c05-40e2-80f1-7475e665bb92:indexpattern-datasource-layer-b3e29ade-9a9d-4a6b-a6fd-828ab6c9e27a","type":"index-pattern"},{"id":"470ef8a3-8b6d-43e3-841a-10992c200a64","name":"5dc2ad7f-baac-4998-b086-2bb4d6ba752e:indexpattern-datasource-current-indexpattern","type":"index-pattern"},{"id":"470ef8a3-8b6d-43e3-841a-10992c200a64","name":"5dc2ad7f-baac-4998-b086-2bb4d6ba752e:indexpattern-datasource-layer-b473dd6e-bbd5-4b04-bc95-7562204949a5","type":"index-pattern"},{"id":"86babe41-f69a-47bc-a68e-1e8f0a7fe713","name":"tag-86babe41-f69a-47bc-a68e-1e8f0a7fe713","type":"tag"},{"id":"ba6a199a-d616-4676-a38a-518392aa80b1","name":"tag-ba6a199a-d616-4676-a38a-518392aa80b1","type":"tag"},{"id":"9ed79265-81e9-4dfe-bf41-bfcd9c4fd9fe","name":"tag-9ed79265-81e9-4dfe-bf41-bfcd9c4fd9fe","type":"tag"}],"type":"dashboard","updated_at":"2022-09-14T13:43:08.620Z","version":"WzQ5NTgsMl0="}
        {"excludedObjects":[],"excludedObjectsCount":0,"exportedCount":15,"missingRefCount":0,"missingReferences":[]}
  service:
    type: "LoadBalancer"
    annotations:
#We want to expose Kibana's UI via link on ECLWATCH...
#Kibana's default back-end FQDN: http://<releasename>-kibana.default.svc.cluster.local:5601
#Exact back-end and/or front-end FQDN should be determined using k8s API, not static info in annotations
      #Required
      hpcc.eclwatch.io/enabled: "true"
      #Optional but informative
      hpcc.eclwatch.io/description: "Provides log management for HPCC component logs"
      hpcc.eclwatch.io/label : "HPCC Logs on Kibana"

      #Optional if targeting custom Kibana UI (different than service defined in this yaml)
      #"hpcc.eclwatch.io/protocol"
      #"hpcc.eclwatch.io/host"
      #"hpcc.eclwatch.io/port"
#Routes landing page to Kibana's discover section
      hpcc.eclwatch.io/path: "/app/discover"

      # This annotation delcares the Azure load balancer for the service as internal rather than internet-visible
      service.beta.kubernetes.io/azure-load-balancer-internal: "true"

      # Enable appropriate annotation for target cloud provider to ensure Kibana access is internal
      #
      #service.beta.kubernetes.io/cce-load-balancer-internal-vpc: "true"
      #cloud.google.com/load-balancer-type: "Internal"
      #service.beta.kubernetes.io/aws-load-balancer-internal: "true"
      #service.beta.kubernetes.io/openstack-internal-load-balancer: "true"
  extraEnvs:
  # Increase WAIT_ES_READY_IN_SEC if get 'Cluster health check is unknown' message in log
  - name: WAIT_KIBANA_READY_IN_SEC
    value: "180"
  lifecycle:
    postStart:
      exec:
        command:
          - bash
          - -c
          - |
            KIBANA_URL=http://localhost:5601
            [ -z ${WAIT_KIBANA_READY_IN_SEC} ] && WAIT_KIBANA_READY_IN_SEC=180
            END_TIME=$(expr $(date +%s) \+ ${WAIT_KIBANA_READY_IN_SEC})
            while [[ "$(curl -s -o /dev/null -w '%{http_code}\n' $KIBANA_URL)" != "200" ]]; do
              echo "\nKibana not ready..."
              [ $(date +%s) -ge ${END_TIME} ] && break
              sleep 1
            done

            httpcode=$(curl -s -o /dev/null -I -w "%{http_code}" -X GET "$KIBANA_URL/api/index_patterns/index_pattern/hpcc-filebeat-pattern" -H 'kbn-xsrf: true')

            if [ ${httpcode} -eq 200 ]; then
              echo 'Pre-existing hpcc-filebeat-pattern index pattern detected, will not re-create.'
            elif [ ${httpcode} -eq 404 ]; then
              echo 'hpcc-filebeat-pattern not found, will create index pattern!'

              httpcode=$(curl -s -w "%{http_code}" -X POST "$KIBANA_URL/api/saved_objects/index-pattern/hpcc-filebeat-pattern" -H 'kbn-xsrf: true' -H 'Content-Type: application/json' \
              -d'{ "attributes":{"title":"hpcc-logs*","timeFieldName":"@timestamp"}}')
              echo Index pattern creation response:  ${httpcode}
            else
              echo Failed to retrieve index pattern information from Kibana: ${httpcode}
            fi
            #Set default route via Kibana advanced setting API (experimental)
            curl -X POST "$KIBANA_URL/api/kibana/settings/defaultRoute" -H "Content-Type: application/json" -H "kbn-xsrf: true" -d '{"value":"/app/discover#/?_g=(filters:!(),refreshInterval:(pause:!t,value:0),time:(from:now%2Fd,to:now%2Fd))&_a=(columns:!(kubernetes.container.name,hpcc.log.message,hpcc.log.audience,hpcc.log.class,hpcc.log.jobid,hpcc.log.timestamp),filters:!(),index:hpcc-filebeat-pattern,interval:auto)"}'
            #Set default discover fields via Kibana advanced setting API (experimental)
            curl -X POST "$KIBANA_URL/api/kibana/settings/defaultColumns" -H "Content-Type: application/json" -H "kbn-xsrf: true" -d '{"value": ["kubernetes.container.name","hpcc.log.message","hpcc.log.audience","hpcc.log.class","hpcc.log.jobid","hpcc.log.timestamp"]}'
            #Notify Kibana users of new indexing scheme via Kibana advanced setting API (experimental)
            curl -X POST "$KIBANA_URL/api/kibana/settings/notifications:banner" -H "Content-Type: application/json" -H "kbn-xsrf: true" -d '{"value": "HPCC users please note: Log data now stored in 'hpcc-logs' prefixed indices, use 'hpcc-logs*' index pattern!"}'
            #Set Kibana Datestamp TZ to UTC
            curl -X POST "$KIBANA_URL/api/kibana/settings/dateFormat:tz" -H "Content-Type: application/json" -H "kbn-xsrf: true" -d '{"value":"UTC"}'
            #echo "$attributeDashboard" > /usr/share/kibana/file.ndjson
            #cat > /usr/share/kibana/file.ndjson << EOF
            #Publish dashboards stored in file.ndjson
            curl -X POST "localhost:5601/api/saved_objects/_import?createNewCopies=true" -H 'kbn-xsrf: true' --form file=@/usr/share/kibana/config/file.ndjson


