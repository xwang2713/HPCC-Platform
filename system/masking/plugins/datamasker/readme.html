<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>HPCC Platform</title>
    <meta name="description" content="The HPCC-Platform from hpccsystems is an open source system for big data analysis. It uses a single language, platform and architecture to process data efficiently and fast.">
    <meta name="generator" content="VitePress v1.6.3">
    <link rel="preload stylesheet" href="/HPCC-Platform/assets/style.DC-OUqe1.css" as="style">
    <link rel="preload stylesheet" href="/HPCC-Platform/vp-icons.css" as="style">
    
    <script type="module" src="/HPCC-Platform/assets/app.DgdsQxIX.js"></script>
    <link rel="preload" href="/HPCC-Platform/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/HPCC-Platform/assets/chunks/theme.BM2P6TRV.js">
    <link rel="modulepreload" href="/HPCC-Platform/assets/chunks/framework.Do1Zayaf.js">
    <link rel="modulepreload" href="/HPCC-Platform/assets/system_masking_plugins_datamasker_readme.md.Db7HQB-0.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-d8b57b2d><!--[--><!--]--><!--[--><span tabindex="-1" data-v-fcbfc0e0></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-fcbfc0e0>Skip to content</a><!--]--><!----><header class="VPNav" data-v-d8b57b2d data-v-7ad780c2><div class="VPNavBar" data-v-7ad780c2 data-v-9fd4d1dd><div class="wrapper" data-v-9fd4d1dd><div class="container" data-v-9fd4d1dd><div class="title" data-v-9fd4d1dd><div class="VPNavBarTitle has-sidebar" data-v-9fd4d1dd data-v-9f43907a><a class="title" href="/HPCC-Platform/" data-v-9f43907a><!--[--><!--]--><!----><span data-v-9f43907a>HPCC Platform</span><!--[--><!--]--></a></div></div><div class="content" data-v-9fd4d1dd><div class="content-body" data-v-9fd4d1dd><!--[--><!--]--><div class="VPNavBarSearch search" data-v-9fd4d1dd><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-9fd4d1dd data-v-afb2845e><span id="main-nav-aria-label" class="visually-hidden" data-v-afb2845e> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/HPCC-Platform/devdoc/README.html" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>Getting Started</span><!--]--></a><!--]--><!--[--><a class="VPLink link vp-external-link-icon VPNavBarMenuLink" href="https://hpccsystems.com" target="_blank" rel="noreferrer" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>hpccsystems.com</span><!--]--></a><!--]--><!--[--><a class="VPLink link vp-external-link-icon VPNavBarMenuLink" href="https://hpccsystems.com/download/release-notes/" target="_blank" rel="noreferrer" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>Changelog</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-9fd4d1dd data-v-3f90c1a5><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-3f90c1a5 data-v-be9742d9 data-v-b4ccac88><span class="check" data-v-b4ccac88><span class="icon" data-v-b4ccac88><!--[--><span class="vpi-sun sun" data-v-be9742d9></span><span class="vpi-moon moon" data-v-be9742d9></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-9fd4d1dd data-v-ef6192dc data-v-e71e869c><!--[--><a class="VPSocialLink no-icon" href="https://github.com/hpcc-systems/HPCC-Platform" aria-label="github" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-github"></span></a><a class="VPSocialLink no-icon" href="https://www.linkedin.com/company/hpcc-systems/home" aria-label="linkedin" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-linkedin"></span></a><a class="VPSocialLink no-icon" href="https://twitter.com/hpccsystems" aria-label="twitter" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-twitter"></span></a><a class="VPSocialLink no-icon" href="https://www.facebook.com/hpccsystems" aria-label="facebook" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-facebook"></span></a><a class="VPSocialLink no-icon" href="https://www.youtube.com/user/HPCCSystems" aria-label="youtube" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-youtube"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-9fd4d1dd data-v-f953d92f data-v-bfe7971f><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-bfe7971f><span class="vpi-more-horizontal icon" data-v-bfe7971f></span></button><div class="menu" data-v-bfe7971f><div class="VPMenu" data-v-bfe7971f data-v-20ed86d6><!----><!--[--><!--[--><!----><div class="group" data-v-f953d92f><div class="item appearance" data-v-f953d92f><p class="label" data-v-f953d92f>Appearance</p><div class="appearance-action" data-v-f953d92f><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-f953d92f data-v-be9742d9 data-v-b4ccac88><span class="check" data-v-b4ccac88><span class="icon" data-v-b4ccac88><!--[--><span class="vpi-sun sun" data-v-be9742d9></span><span class="vpi-moon moon" data-v-be9742d9></span><!--]--></span></span></button></div></div></div><div class="group" data-v-f953d92f><div class="item social-links" data-v-f953d92f><div class="VPSocialLinks social-links-list" data-v-f953d92f data-v-e71e869c><!--[--><a class="VPSocialLink no-icon" href="https://github.com/hpcc-systems/HPCC-Platform" aria-label="github" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-github"></span></a><a class="VPSocialLink no-icon" href="https://www.linkedin.com/company/hpcc-systems/home" aria-label="linkedin" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-linkedin"></span></a><a class="VPSocialLink no-icon" href="https://twitter.com/hpccsystems" aria-label="twitter" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-twitter"></span></a><a class="VPSocialLink no-icon" href="https://www.facebook.com/hpccsystems" aria-label="facebook" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-facebook"></span></a><a class="VPSocialLink no-icon" href="https://www.youtube.com/user/HPCCSystems" aria-label="youtube" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-youtube"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-9fd4d1dd data-v-6bee1efd><span class="container" data-v-6bee1efd><span class="top" data-v-6bee1efd></span><span class="middle" data-v-6bee1efd></span><span class="bottom" data-v-6bee1efd></span></span></button></div></div></div></div><div class="divider" data-v-9fd4d1dd><div class="divider-line" data-v-9fd4d1dd></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-d8b57b2d data-v-2488c25a><div class="container" data-v-2488c25a><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-2488c25a><span class="vpi-align-left menu-icon" data-v-2488c25a></span><span class="menu-text" data-v-2488c25a>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-2488c25a data-v-6b867909><button data-v-6b867909>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-d8b57b2d data-v-42c4c606><div class="curtain" data-v-42c4c606></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-42c4c606><span class="visually-hidden" id="sidebar-aria-label" data-v-42c4c606> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0" data-v-51288d80 data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h2 class="text" data-v-0009425e>General</h2><!----></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/HPCC-Platform/devdoc/README.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Getting Started</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/HPCC-Platform/devdoc/Development.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Development Guide</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/HPCC-Platform/devdoc/StyleGuide.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>C++ Style Guide</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/HPCC-Platform/ecllibrary/StyleGuide.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>ECL Style Guide</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/HPCC-Platform/devdoc/CodeSubmissions.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Code Submission Guidelines</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/HPCC-Platform/devdoc/CodeReviews.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Code Review Guidelines</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/HPCC-Platform/devdoc/DevDocs.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Writing Developer Documentation</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/HPCC-Platform/devdoc/userdoc/README.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>User Guides</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/HPCC-Platform/devdoc/UserBuildAssets.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Build on Github Actions</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0" data-v-51288d80 data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h2 class="text" data-v-0009425e>Other</h2><!----></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/HPCC-Platform/devdoc/Workunits.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Workunit Workflow</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/HPCC-Platform/devdoc/CodeGenerator.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Code Generator</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/HPCC-Platform/devdoc/roxie.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Roxie</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/HPCC-Platform/devdoc/MemoryManager.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Memory Manager</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/HPCC-Platform/devdoc/Metrics.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Metrics</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/HPCC-Platform/devdoc/DevTestWithLDAP.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Development Testing With LDAP</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-d8b57b2d data-v-9a6c75ad><div class="VPDoc has-sidebar has-aside" data-v-9a6c75ad data-v-e6f2a212><!--[--><!--]--><div class="container" data-v-e6f2a212><div class="aside" data-v-e6f2a212><div class="aside-curtain" data-v-e6f2a212></div><div class="aside-container" data-v-e6f2a212><div class="aside-content" data-v-e6f2a212><div class="VPDocAside" data-v-e6f2a212 data-v-cb998dce><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-cb998dce data-v-f610f197><div class="content" data-v-f610f197><div class="outline-marker" data-v-f610f197></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-f610f197>On this page</div><ul class="VPDocOutlineItem root" data-v-f610f197 data-v-53c99d69><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-cb998dce></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-e6f2a212><div class="content-container" data-v-e6f2a212><!--[--><!--]--><main class="main" data-v-e6f2a212><div style="position:relative;" class="vp-doc _HPCC-Platform_system_masking_plugins_datamasker_readme" data-v-e6f2a212><div><h2 id="libdatamasker-so" tabindex="-1">libdatamasker.so <a class="header-anchor" href="#libdatamasker-so" aria-label="Permalink to &quot;libdatamasker.so&quot;">​</a></h2><p>This implements a plugin library producing instances of <code>IDataMaskingProfileIterator</code> to be used by an <code>IDataMaskingEngine</code> instance. The library is written in C++, and this section is organized according to the namespace and class names used.</p><h3 id="namespace-datamasking" tabindex="-1">namespace DataMasking <a class="header-anchor" href="#namespace-datamasking" aria-label="Permalink to &quot;namespace DataMasking&quot;">​</a></h3><h4 id="ccontext" tabindex="-1">CContext <a class="header-anchor" href="#ccontext" aria-label="Permalink to &quot;CContext&quot;">​</a></h4><p>Standard implementation of <code>IDataMaskingProfileContext</code> and <code>IDataMaskingProfileContextInspector</code> tightly coupled to a specific version of a specific profile instance. It manages custom properties that are accepted by the associated profile, and rejects attempts to set those not accepted. The rejection is one way of letting the caller know that something it might deem essential is not handled by the profile.</p><p>Depends on <code>CProfile</code>, an abstract implementation of <code>IDataMaskingProfile</code> and <code>IDataMaskingProfileInspector</code>.</p><h4 id="cmaskstyle" tabindex="-1">CMaskStyle <a class="header-anchor" href="#cmaskstyle" aria-label="Permalink to &quot;CMaskStyle&quot;">​</a></h4><p>Implementation of <code>IDataMaskingProfileMaskStyle</code> providing customized masked output of values. Configuration options include:</p><ul><li><strong>@maximumVersion</strong> is an optional version number, needed only when the style does not apply to the maximum version of the value type in which it is defined.</li><li><strong>@minimumVersion</strong> is an optional version number, needed only when the style does not apply to the minumum version of the value type in which it is defined.</li><li><strong>@name</strong> is a required unique identifier for the style.</li><li><strong>@overrideDefault</strong> is an optional Boolean flag controlling whether the style should replace the default style for the value type in which it is defined.</li><li><strong>@pattern</strong> is an optional character sequence (one or more characters in length) that will be used to mask value content.</li></ul><h4 id="cpartialmaskstyle" tabindex="-1">CPartialMaskStyle <a class="header-anchor" href="#cpartialmaskstyle" aria-label="Permalink to &quot;CPartialMaskStyle&quot;">​</a></h4><p>Am extension of <a href="#cmaskstyle">CMaskStyle</a>, this is intended to partially mask values, such as account numbers or telephone numbers, without assuming knowledge of the values. Configuration is generally expressed as:</p><pre><code>[ [ @action ] [ @location ] @count  [ @characters ] ]
</code></pre><p>Where:</p><ul><li><strong>@action</strong> what to do, either <em>keep</em> or <em>mask</em> (default); and</li><li><strong>@location</strong> where to do it, either <em>first</em> or <em>last</em> (default); and</li><li><strong>@count</strong> how many characters to examine, a positive integer value; and</li><li><strong>@characters</strong> type of characters to be considered, either <em>numbers</em>, <em>letters</em>, <em>alphanumeric</em>, or <em>all</em> (default)</li></ul><p>All four values may be omitted when only the inherited options are needed. If any of the four values are given, <strong>count</strong> is required and the other three are optional.</p><p>A value substring containing at most <strong>@count</strong> instances of the character class denoted by <strong>@characters</strong> is identified. Character classes are ASCII numeric characters (<em>numbers</em>), ASCII alphabetic characters (<em>letters</em>), ASCII alphabetic and numeric characters (<em>alphanumeric</em>), or any characters (<em>all</em>).</p><p>The value substring is at the start of the value when <strong>@location</strong> is <em>first</em>, and at the end of the value when <strong>@location</strong> is <em>last</em>.</p><p>The value substring is masked when <strong>@action</strong> is <em>mask</em>. All of the value with the exception of the substring is masked when <strong>@action</strong> is <em>keep</em>.</p><h4 id="crule" tabindex="-1">CRule <a class="header-anchor" href="#crule" aria-label="Permalink to &quot;CRule&quot;">​</a></h4><p>A base class for rule implementations, this defines standard rule properties without providing any content knowledge for use with <code>maskContent</code>.</p><p>Configuration includes:</p><ul><li><strong>@contentType</strong> is an optional, user-defined, label describing the content format to which the rule should be applied. <code>maskContent</code> requests that indicate a content type should apply all rules that match the type in addition to all rules that omit a type.</li><li><strong>memberOf</strong> is an optional and repeating element identifying user-defined set labels. Only rules with membership in the requested set are considered; in the absence of an explictly requested set, a default set with an empty name is implied.</li><li><strong>memberOf/@name</strong> is a required user-defined set label.</li></ul><p>rule instances will frequently be specific to a content format. For example, a rule applied to XML markup value may include dependencies on XML syntax which are not applicable when masking JSON content. Rules specific to a markup format can be associated with that format using <strong>@contentType</strong>. Requests to mask content of a type will apply all rules without a <strong>@contentType</strong> value or with a matching value, and will exclude all rules with a non-matching value.</p><h4 id="cserialtokenrule" tabindex="-1">CSerialTokenRule <a class="header-anchor" href="#cserialtokenrule" aria-label="Permalink to &quot;CSerialTokenRule&quot;">​</a></h4><p>An extension of <a href="#crule">CRule</a>, this identifies content substrings to be masked based on matching start and end tokens in the content buffer. For each occurrence of a configured start token that is balanced by a corresponding configured end token, the characters between the tokens are masked.</p><p>This class may be used with <a href="#tserialprofile">TSerialProfile</a>.</p><p>Configuration includes:</p><ul><li><strong>@endToken</strong> is an optional character sequence expected to immediately follow a content substring to be masked. This might be an XML element end tag, or a terminating double quote for a JSON value. A newline, i.e., <em>\n</em>, is assumed if omitted or empty, for masking values such as HTTP headers.</li><li><strong>@matchCase</strong> is an optional Boolean flag controlling whether token matches are case sensitive (<em>true</em>) or insensitivie (<em>false</em>). Matches are case insensitive by default. The implementation is based on ASCII data; case sensitive comparisons of similarly encoded non-ASCI text can work, but case insensitive comparisons are not supported.</li><li><strong>@startToken</strong> is a required character sequence expected to precede a content substring to be masked.</li></ul><blockquote><p>No content type knowledge is implied by this class. An instance with <strong>@contentType</strong> of <em>xml</em> does not inherently know how to find values in XML markup. The defined tokens must include characters such as <code>&lt;</code> and <code>&gt;</code> to match an element name and quotes to match attribute values.</p></blockquote><h4 id="tplugin" tabindex="-1">TPlugin <a class="header-anchor" href="#tplugin" aria-label="Permalink to &quot;TPlugin&quot;">​</a></h4><p>An implementation of <code>IDataMaskingProfileIterator</code> used for transforming a configuration property tree into a collection of profiles to be returned by a library entry point function. Created profiles are of the same class, identified by the template parameter <strong>profile_t</strong>.</p><p>Configuration includes:</p><ul><li><strong>profile</strong> An optional and repeating element defining a profile. The content of this element depends on <strong>profile_t</strong>.</li><li>If and only if <strong>profile</strong> is not included as a child of the configuration node, the node itself will be treated as a configuration for <strong>profile_t</strong>. The name of the configuration node is not required to be <strong>profile</strong>.</li></ul><h4 id="tprofile" tabindex="-1">TProfile <a class="header-anchor" href="#tprofile" aria-label="Permalink to &quot;TProfile&quot;">​</a></h4><p>A concrete extension of <code>CProfile</code>, this manages value types and rules, providing a default implementation of <code>maskValue</code> but leaving other operations to subclasses.</p><p>Template parameters are:</p><ul><li><strong>valuetype_t</strong> identifies the concrete implementation of <code>IDataMaskingProfileValueType</code> to be instantiated during configuration.</li><li><strong>rule_t</strong> identifies the concrete implementation of rules to be managed. Creation is assumed to be the responsibility of the value type.</li><li><strong>context_t</strong> identifies the concrete implementation of <code>IDataMaskingProfileContext</code> to be instantiated on demand.</li></ul><p>Configuration includes:</p><ul><li><strong>@defaultVersion</strong> is an optional version number identifying the version to be used when version <em>0</em> is requested. Omission or <em>0</em> implies the maximum version (which is configured before this value).</li><li><strong>@domain</strong> is the required default identifier used to select this profile.</li><li><strong>legacyDomain</strong> is an optional and repeating element identifying alternate identifiers by which the profile may be selected. This enables domain identifier naming conventions to be changed without breaking pre-existing references.</li><li><strong>legacyDomain/@id</strong> is a required identifier of this profile.</li><li><strong>@maximumVersion</strong> is an optional version number identifying the highest version supported by the configuration. Omission or <em>0</em> implies a value matching the minimum version (whether implicitly or explicitly defined).</li><li><strong>@minimumVersion</strong> is an optional version number identifying the lowest version supported by the configuration. Omission or <em>0</em> implies 1.</li><li><strong>@name</strong> is an optional label for the instance. If given, the value is used in trace output.</li><li><strong>property</strong> is an optional and repeating element describing a custom context property recognized by the profile. The profile can declare awareness of properties without explicit use of them.</li><li><strong>property/@name</strong> is a required context property name.</li><li><strong>property/@minimumVersion</strong> is an optional version number indicating the lowest profile version aware of the property. Omission or <em>0</em> implies the profile minimum.</li><li><strong>property/@maximumVersion</strong> is an optional version number indicating the highest profile version aware of the property. Omisssion or <em>0</em> implies the profile maximum.</li><li><strong>valueType</strong> is an optional and repeating element describing the value types defined by the profile. Element content depends on the value of <strong>valuetype_t</strong>.</li></ul><p>For profiles supporting a single version, value type names must be unique. For profiles supporting multiple versions, value type names may be repeated but must be unique for each version. To illustrate, consider this snippet:</p><pre><code>profile:
  minimumVersion: 1
  maximumVersion: 2
  valueType:
    - name: foo
      maximumVersion: 1
    - name: foo
      minimumVersion: 2
    - name: bar
    - name: bar
      minimumVersion: 2
</code></pre><p>In the example, <em>foo</em> and <em>bar</em> are each defined twice. The redefinition of <em>foo</em> is acceptable because each instance applies to a different version. The redefinition of <em>bar</em> is invalid because both instances claim to apply to version <em>2</em>.</p><p>The value type name <em>*</em> is reserved by this class. A profile that includes a value type named <em>*</em> supports unconditional value masking. <code>maskValue</code> requests specifying unknown value type names can fall back to this special type and force masking for these values. Without this type, <code>maskValue</code> masks what it thinks should be masked; with this type, it trusts the caller to request masking for only those values known to require it. Value types included in unselected value type sets are known to the profile and, as such, can be used to prevent specific typed values from ever being masked.</p><blockquote><p>The requirement of a type definition instead of a simpler flag is to enable the definition of mask styles. It has the side effect of enabling the definition of rules. In theory, an entire profile could be defined using a single value type. This may make sense in some cases, but not in all. For example, a partial mask style intended for use with U.S. Social Security numbers could be inappropriately applied to a password. Use care when configuring this type.</p></blockquote><h4 id="tserialprofile" tabindex="-1">TSerialProfile <a class="header-anchor" href="#tserialprofile" aria-label="Permalink to &quot;TSerialProfile&quot;">​</a></h4><p>An extension of <a href="#tprofile">TProfile</a> that adds support for <code>maskContent</code>. It is assumed by <code>maskContent</code> that each applicable rule must be applied serially, i.e., one after the other, using an <code>bool applyRule(buffer, length, context)</code> interface.</p><p>Template parameters are unchanged from <code>TProfile</code>.</p><p>Configuration options are unchanged from <code>TProfile</code>.</p><h4 id="tvaluetype" tabindex="-1">TValueType <a class="header-anchor" href="#tvaluetype" aria-label="Permalink to &quot;TValueType&quot;">​</a></h4><p>An implementation of <code>IDataMaskingProfileValueType</code> that manages mask styles and creates rules for the profile.</p><p>Template parameters are:</p><ul><li><strong>maskstyle_t</strong> identifies the concrete implementation of <code>IDataMaskingProfileMaskStyle</code> to be instantiated during configuration.</li><li><strong>rule_t</strong> identifies the concrete implementation of rules to be created during configuration.</li></ul><p>Configuration includes:</p><ul><li><strong>@maximumVersion</strong> is an optional version number, needed only when the type does not apply to the maximum version of the profile in which it is defined.</li><li><strong>@minimumVersion</strong> is an optional version number, needed only when the type does not apply to the minumum version of the profile in which it is defined.</li><li><strong>maskStyle</strong> is an optional and repeating element describing mask styles defined by the type. Element content depends on the value of <strong>maskstyle_t</strong>.</li><li><strong>memberOf</strong> is an optional and repeating element identifying user-defined set labels. All value types that are not explicitly assigned set membership are considered for all masking requests. Value types assigned set membership are considered only when one of their assigned sets is selected with the request context.</li><li><strong>memberOf/@name</strong> is a required user-defined set label.</li><li><strong>@name</strong> is a required unique identifier for the type.</li><li><strong>rule</strong> is an optional and repeating element describing rules defined by the type. Element content depends on the value of <strong>rule_t</strong>.</li></ul><p>For value types supporting a single version, mask style names must be unique. For types supporting multiple versions, style names may be repeated but must be unique for each version. To illustrate, consider this snippet:</p><pre><code>valueType:
  minimumVersion: 1
  maximumVersion: 2
  maskStyle:
    - name: foo
      maximumVersion: 1
    - name: foo
      minimumVersion: 2
    - name: bar
    - name: bar
      minimumVersion: 2
</code></pre><p>In the example, <em>foo</em> and <em>bar</em> are each defined twice. The redefinition of <em>foo</em> is acceptable because each instance applies to a different version. The redefinition of <em>bar</em> is invalid because both instances claim to apply to version <em>2</em>.</p><h3 id="entry-point-functions" tabindex="-1">Entry Point Functions <a class="header-anchor" href="#entry-point-functions" aria-label="Permalink to &quot;Entry Point Functions&quot;">​</a></h3><p>This section describes the entry point functions exported by the shared library. The library must export one function, and may export multiple functions.</p><p>The description of each entry point will identify which of the previously described classes is used to represent the returned collection of profiles. If a templated class is identified, the template parameters are also listed. Refer to the class descriptions for additional information.</p><h4 id="newpartialmaskserialtoken" tabindex="-1">newPartialMaskSerialToken <a class="header-anchor" href="#newpartialmaskserialtoken" aria-label="Permalink to &quot;newPartialMaskSerialToken&quot;">​</a></h4><p>Returns a (possibly empty) collection of profiles supporting <code>maskValue</code> and <code>maskContent</code> operations.</p><ul><li>The profile collection is an instance of <a href="#tplugin">TPlugin</a>.</li><li>Collection profiles are implemented using <a href="#tprofile">TProfile</a>.</li><li>Profile value types are implemented using <a href="#tvaluetype">TValueType</a>.</li><li>Value type mask styles are implemented using <a href="#cpartialmaskstyle">CPartialMaskStyle</a>.</li><li>Value type and profile rules are implemented using <a href="#cserialtokenrule">CSerialTokenRule</a>.</li><li>Profile contexts are implemented using <a href="#ccontext">CContext</a>.</li></ul></div></div></main><footer class="VPDocFooter" data-v-e6f2a212 data-v-1bcd8184><!--[--><!--]--><div class="edit-info" data-v-1bcd8184><div class="edit-link" data-v-1bcd8184><a class="VPLink link vp-external-link-icon no-icon edit-link-button" href="https://github.com/hpcc-systems/HPCC-Platform/edit/master/system/masking/plugins/datamasker/readme.md" target="_blank" rel="noreferrer" data-v-1bcd8184><!--[--><span class="vpi-square-pen edit-link-icon" data-v-1bcd8184></span> Edit this page on GitHub<!--]--></a></div><div class="last-updated" data-v-1bcd8184><p class="VPLastUpdated" data-v-1bcd8184 data-v-1bb0c8a8>Last Updated: <time datetime="2025-07-29T13:25:37.000Z" data-v-1bb0c8a8></time></p></div></div><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-1bcd8184><span class="visually-hidden" id="doc-footer-aria-label" data-v-1bcd8184>Pager</span><div class="pager" data-v-1bcd8184><!----></div><div class="pager" data-v-1bcd8184><a class="VPLink link pager-link next" href="/HPCC-Platform/devdoc/README.html" data-v-1bcd8184><!--[--><span class="desc" data-v-1bcd8184>Next page</span><span class="title" data-v-1bcd8184>Getting Started</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-d8b57b2d data-v-566314d4><div class="container" data-v-566314d4><p class="message" data-v-566314d4>Released under the Apache-2.0 License.</p><p class="copyright" data-v-566314d4>Copyright © 2023-present hpccsystems.com</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"build_me.md\":\"PMcNVT0h\",\"build_utils_builds_file_transfer_readme.md\":\"BHmpn2hD\",\"cmake_modules_documentation.md\":\"BDaL_j9_\",\"dali_sasha_sasha.md\":\"DBLlNS33\",\"devdoc_buildworkflows.md\":\"DxBHBqCq\",\"devdoc_codegenerator.md\":\"BfvNdVuI\",\"devdoc_codereviews.md\":\"DR62xrr1\",\"devdoc_codesubmissions.md\":\"rrGEYjt9\",\"devdoc_dali.md\":\"BTyJFzyM\",\"devdoc_devdocs.md\":\"apeF42kG\",\"devdoc_developerdocs.md\":\"Be2avXAG\",\"devdoc_development.md\":\"Dsk8L6lj\",\"devdoc_devtestwithldap.md\":\"BQxoWSQb\",\"devdoc_docs_contributedocs.md\":\"CJcYckRb\",\"devdoc_docs_doctemplate.md\":\"CRYQGxYM\",\"devdoc_docs_hpccstyleguide.md\":\"BQLcN9pI\",\"devdoc_docs_logcostmitigation.md\":\"Dk6iRYtK\",\"devdoc_endusers.md\":\"CAKiu1Jh\",\"devdoc_gitauthenticate.md\":\"CXe8JBrL\",\"devdoc_ldapsecuritymanager.md\":\"BdIhcf90\",\"devdoc_memorymanager.md\":\"CXiFONGZ\",\"devdoc_metrics.md\":\"Cpce2Nc0\",\"devdoc_newactivity.md\":\"D4Nksaou\",\"devdoc_newfileprocessing.md\":\"BGcWWvGz\",\"devdoc_operations.md\":\"B4sIeNkK\",\"devdoc_qausers.md\":\"CkH6_oKx\",\"devdoc_readme.md\":\"D5m3rKh6\",\"devdoc_roxie.md\":\"DuffRW4z\",\"devdoc_securityconfig.md\":\"AwSEcyhP\",\"devdoc_securityuserauthentication.md\":\"CYg7kLYc\",\"devdoc_styleguide.md\":\"B1MzFfo_\",\"devdoc_testworkflows.md\":\"BuXB56GP\",\"devdoc_userbuildassets.md\":\"OxygBGdk\",\"devdoc_userdoc_azure_tipsandtricks.md\":\"D5JnG2Ha\",\"devdoc_userdoc_azuretipstricks.md\":\"B-bDla1d\",\"devdoc_userdoc_blogs.md\":\"D0cFiA9Y\",\"devdoc_userdoc_copilot_copilotprompttips.md\":\"CJxMSL61\",\"devdoc_userdoc_readme.md\":\"fZHBlH67\",\"devdoc_userdoc_roxie_faq.md\":\"DNCb6aty\",\"devdoc_userdoc_troubleshoot_clientstoolissues.md\":\"7Porr0sH\",\"devdoc_userdoc_wikiguidelines.md\":\"Bvf59ZER\",\"devdoc_versionsupport.md\":\"BlYczwvR\",\"devdoc_workunits.md\":\"gV3npapB\",\"ecl_ecl-bundle_documentation.md\":\"D0XsbPdC\",\"ecllibrary_styleguide.md\":\"Zu4qQI6o\",\"index.md\":\"D7OSPS7P\",\"readme.md\":\"C40L2l-K\",\"system_httplib_readme.md\":\"Muy5rkxW\",\"system_masking_include_readme.md\":\"BbSzavc1\",\"system_masking_plugins_datamasker_readme.md\":\"Db7HQB-0\",\"system_security_plugins_jwtsecurity_readme.md\":\"HbVcNNzw\",\"testing_regress_cleanupreadme.md\":\"BoWuU6zZ\",\"testing_regress_ecl_analyzers_corporate_tmp_readme.md\":\"Bb6tgN7r\",\"testing_regress_ecl_readme.md\":\"B8N14F54\",\"tools_esdlcmd_readme.md\":\"D21za28m\",\"tools_esp-api_readme.md\":\"F4K03kph\",\"tools_tagging_readme.md\":\"DAYVPUg_\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"HPCC Platform\",\"description\":\"The HPCC-Platform from hpccsystems is an open source system for big data analysis. It uses a single language, platform and architecture to process data efficiently and fast.\",\"base\":\"/HPCC-Platform/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"search\":{\"provider\":\"local\"},\"editLink\":{\"pattern\":\"https://github.com/hpcc-systems/HPCC-Platform/edit/master/:path\",\"text\":\"Edit this page on GitHub\"},\"lastUpdated\":{\"text\":\"Last Updated\"},\"nav\":[{\"text\":\"Getting Started\",\"link\":\"/devdoc/README\"},{\"text\":\"hpccsystems.com\",\"link\":\"https://hpccsystems.com\"},{\"text\":\"Changelog\",\"link\":\"https://hpccsystems.com/download/release-notes/\"}],\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/hpcc-systems/HPCC-Platform\"},{\"icon\":\"linkedin\",\"link\":\"https://www.linkedin.com/company/hpcc-systems/home\"},{\"icon\":\"twitter\",\"link\":\"https://twitter.com/hpccsystems\"},{\"icon\":\"facebook\",\"link\":\"https://www.facebook.com/hpccsystems\"},{\"icon\":\"youtube\",\"link\":\"https://www.youtube.com/user/HPCCSystems\"}],\"sidebar\":[{\"text\":\"General\",\"items\":[{\"text\":\"Getting Started\",\"link\":\"/devdoc/README\"},{\"text\":\"Development Guide\",\"link\":\"/devdoc/Development\"},{\"text\":\"C++ Style Guide\",\"link\":\"/devdoc/StyleGuide\"},{\"text\":\"ECL Style Guide\",\"link\":\"/ecllibrary/StyleGuide.html\"},{\"text\":\"Code Submission Guidelines\",\"link\":\"/devdoc/CodeSubmissions\"},{\"text\":\"Code Review Guidelines\",\"link\":\"/devdoc/CodeReviews\"},{\"text\":\"Writing Developer Documentation\",\"link\":\"/devdoc/DevDocs\"},{\"text\":\"User Guides\",\"link\":\"/devdoc/userdoc/README\"},{\"text\":\"Build on Github Actions\",\"link\":\"/devdoc/UserBuildAssets\"}]},{\"text\":\"Other\",\"items\":[{\"text\":\"Workunit Workflow\",\"link\":\"/devdoc/Workunits\"},{\"text\":\"Code Generator\",\"link\":\"/devdoc/CodeGenerator\"},{\"text\":\"Roxie\",\"link\":\"/devdoc/roxie\"},{\"text\":\"Memory Manager\",\"link\":\"/devdoc/MemoryManager\"},{\"text\":\"Metrics\",\"link\":\"/devdoc/Metrics\"},{\"text\":\"Development Testing With LDAP\",\"link\":\"/devdoc/DevTestWithLDAP\"}]}],\"footer\":{\"message\":\"Released under the Apache-2.0 License.\",\"copyright\":\"Copyright © 2023-present hpccsystems.com\"}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>